æœ¬æ–‡ç”±ä½“éªŒæŠ€æœ¯å›¢é˜Ÿ Kagol åŸåˆ›ã€‚\
ä»Šå¹´ 4 æœˆä»½ï¼Œå¬åˆ° Quill 2.0 æ­£å¼å‘å¸ƒçš„æ¶ˆæ¯ï¼Œæˆ‘å¿ƒæƒ…éå¸¸æ¿€åŠ¨ï¼Œç«‹é©¬ä½“éªŒäº†ä¸‹ï¼Œå¹¶å†™äº†ä¸€ç¯‡æ–‡ç« ã€‚

[é‡å›é“ç‹åº§ï¼æ—¶éš” 5 å¹´ï¼Quill 2.0 ç»ˆäºå‘å¸ƒå•¦ ğŸ‰](http://mp.weixin.qq.com/s?__biz=MzI2MDE3MTM4MA==&mid=2701521186&idx=1&sn=e1cec32edc7de006921ef9663d236a13&chksm=ce9ce239f9eb6b2f507fcbb54077190105af82c9cefdc3c37568580512f50fb56bb609c05e2a&scene=21#wechat_redirect)

ç”±äºè¶Šæ¥è¶Šå¤šç”¨æˆ·å£°éŸ³å¸Œæœ›æä¾›å¯Œæ–‡æœ¬ç»„ä»¶ï¼Œäºæ˜¯æˆ‘ä»¬åŸºäº Quill 2.0 å°è£…äº†ä¸€ä¸ªåŠŸèƒ½æ›´å…¨é¢çš„ Fluent Editor å¯Œæ–‡æœ¬ã€‚

- å®˜ç½‘ï¼š<https://opentiny.github.io/fluent-editor/>
- æºç ï¼š<https://github.com/opentiny/fluent-editor/ï¼ˆæ¬¢è¿> Star â­ï¼‰

æ¥ä¸‹æ¥æˆ‘å°±å¸¦å¤§å®¶ä¸€èµ·ä½¿ç”¨ä¸‹ Fluent Editorï¼Œä½¿ç”¨èµ·æ¥åŸºæœ¬ä¸Šå’Œ Quill æ²¡ä»€ä¹ˆåŒºåˆ«ï¼Œåªéœ€è¦é‡ç‚¹å…³æ³¨ä¸‹å¢å¼ºçš„éƒ¨åˆ†ï¼Œæ¯”å¦‚è¡¨æ ¼ã€é™„ä»¶ã€@æé†’ã€è¡¨æƒ…ç­‰æ¨¡å—ã€‚

## 1 å¿«é€Ÿä¸Šæ‰‹

Fluent Editor åŸºäº Quill 2.0 è¿›è¡Œå°è£…ï¼Œæ‰©å±•äº†å¾ˆå¤šå®ç”¨çš„æ¨¡å—åŠŸèƒ½ï¼Œä½¿ç”¨æ–¹å¼å’Œ Quill ä¸€æ ·ã€‚

å®‰è£…ä¾èµ–ï¼š

```shell
npmÂ iÂ @opentiny/fluent-editor
```

ç¼–å†™ HTMLï¼š

```html
<div id="editor">
  Â Â 
  <p>
    <strong>FluentÂ Editor</strong>Â æ˜¯ä¸€ä¸ªåŸºäºÂ <a class="ql-normal-link" href="https://quilljs.com/" target="_blank"
      >QuillÂ 2.0</a
    >Â çš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œåœ¨ Quill åŸºç¡€ä¸Šæ‰©å±•äº†ä¸°å¯Œçš„æ¨¡å—å’Œæ ¼å¼ï¼ŒåŠŸèƒ½å¼ºå¤§ã€å¼€ç®±å³ç”¨ã€‚
  </p>
  Â Â 
  <p><br /></p>
  Â Â 
  <p>
    å®˜ç½‘ï¼š<a class="ql-normal-link" href="https://opentiny.github.io/fluent-editor/" target="_blank"
      >https://opentiny.github.io/fluent-editor/</a
    >
  </p>
  Â Â 
  <p>
    æºç ï¼š<a class="ql-normal-link" href="https://github.com/opentiny/fluent-editor/" target="_blank"
      >https://github.com/opentiny/fluent-editor/</a
    >ï¼ˆæ¬¢è¿Â StarÂ â­ï¼‰
  </p>
</div>
```

å¼•å…¥æ ·å¼ï¼š

```css
@importÂ  '@opentiny/fluent-editor/style.css';
```

åˆå§‹åŒ– Fluent Editor ç¼–è¾‘å™¨ï¼š

```js
import FluentEditor from '@opentiny/fluent-editor'

const editor = new FluentEditor('#editor', {
  theme: 'snow'
})
```

![å›¾ç‰‡](../../image/feature-tinyeditor/4-1.png)

## 2 é…ç½®å·¥å…·æ 

é…ç½®å·¥å…·æ æ˜¯æœ€å¸¸è§çš„éœ€æ±‚ã€‚

Fluent Editor æ”¯æŒ 27 ç§å†…ç½®å·¥å…·æ æŒ‰é’®ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ‰©å±•ã€‚

é™¤äº†æ”¯æŒ Quill å†…ç½®çš„ 22 ç§å·¥å…·æ ä¹‹å¤–ï¼Œè¿˜æ”¯æŒä»¥ä¸‹å·¥å…·æ ï¼š

- `undo`Â  æ’¤é”€
- `redo`Â  é‡åš
- `better-table`Â  è¡¨æ ¼
- `file`Â  æ–‡ä»¶ä¸Šä¼ ï¼Œéœ€è¦å¯ç”¨ Â `file`Â  æ¨¡å—
- `emoji`Â  æ’å…¥è¡¨æƒ…ï¼Œéœ€è¦å¯ç”¨ Â `emoji-toolbar`Â  æ¨¡å—

Quill æ”¯æŒçš„å·¥å…·æ :Â <https://quilljs.com/docs/modules/toolbar>

å¯ä»¥é€šè¿‡ toolbar æ¨¡å—é…ç½®å·¥å…·æ æŒ‰é’®ï¼š

```js
import FluentEditor from '@opentiny/fluent-editor'

const toolbarOptions = [
  ['undo', 'redo'], //Â FluentÂ EditorÂ added
  ['bold', 'italic', 'underline', 'strike'], //Â toggledÂ buttons
  ['blockquote', 'code-block'],
  ['link', 'image', 'video', 'formula'],

  [{ 'header': 1 }, { 'header': 2 }], //Â customÂ buttonÂ values
  [{ 'list': 'ordered' }, { 'list': 'bullet' }, { 'list': 'check' }],
  [{ 'script': 'sub' }, { 'script': 'super' }], //Â superscript/subscript
  [{ 'indent': '-1' }, { 'indent': '+1' }], //Â outdent/indent
  [{ 'direction': 'rtl' }], //Â textÂ direction
  [{ 'size': ['small', false, 'large', 'huge'] }], //Â customÂ dropdown
  [{ 'header': [1, 2, 3, 4, 5, 6, false] }],

  [{ 'color': [] }, { 'background': [] }], //Â dropdownÂ withÂ defaultsÂ fromÂ theme
  [{ 'font': [] }],
  [{ 'align': [] }],

  ['clean'], //Â removeÂ formattingÂ button
  ['better-table', 'file', 'emoji'] //Â FluentÂ EditorÂ added
]

const editor = new FluentEditor('#editor', {
  theme: 'snow',
  modules: {
    toolbar: toolbarOptions,
    syntax: true, //Â ä»£ç å—é«˜äº®
    file: true, //Â æ–‡ä»¶ä¸Šä¼ 
    'emoji-toolbar': true //Â æ’å…¥è¡¨æƒ…
  }
})
```

![å›¾ç‰‡](../../image/feature-tinyeditor/4-2.png)

é™¤äº†é…ç½®å†…ç½®çš„å·¥å…·æ ï¼Œä¹Ÿæ”¯æŒæ‰©å±•å·¥å…·æ æŒ‰é’®ï¼Œå…·ä½“æ‰©å±•æ–¹å¼å¯ä»¥å‚è€ƒæˆ‘ä¹‹å‰å†™çš„æ–‡ç« ï¼š

[æ·±å…¥æµ…å‡º Quill ç³»åˆ—ä¹‹å®è·µç¯‡ 2ï¼šæ•´ä¸ªè´ªåƒè›‡æ¸¸æˆåˆ°ç¼–è¾‘å™¨é‡Œç©å„¿å§](http://mp.weixin.qq.com/s?__biz=MzI2MDE3MTM4MA==&mid=2701521005&idx=1&sn=834d9f914ec7cd1c517b6b3f24357917&chksm=ce9ce376f9eb6a60c17c32ea7ecefbff72178b70ea5dcd402f2b87ed481feb29440b9d692512&scene=21#wechat_redirect)

æˆ–è€…å‚è€ƒ Quill å®˜æ–¹æ–‡æ¡£ï¼š<https://quilljs.com/docs/modules/toolbar#handlers>

## 3 é…ç½®å†…ç½®æ¨¡å—

Fluent Editor æ”¯æŒ 11 ç§å†…ç½®æ¨¡å—ï¼š

1. clipboard ç²˜è´´ç‰ˆ
2. history æ“ä½œå†å²
3. keyboard é”®ç›˜äº‹ä»¶
4. syntax è¯­æ³•é«˜äº®
5. toolbar å·¥å…·æ 
6. uploader æ–‡ä»¶ä¸Šä¼ 
7. formula å…¬å¼ï¼Œä¾èµ– katex å…¬å¼åº“
8. â­better-table è¡¨æ ¼
9. â­mention @æé†’
10. â­emoji-toolbar æ’å…¥è¡¨æƒ…
11. â­file é™„ä»¶ä¸Šä¼ ï¼Œé…åˆ file format ä¸€èµ·ä½¿ç”¨ï¼Œå¯ä»¥æ’å…¥é™„ä»¶

é€šè¿‡ modules é…ç½®æ¨¡å—ï¼Œæ¯”å¦‚è¦å¯ç”¨ä¸€ä¸ªæ¨¡å—ï¼Œå¯ä»¥è®¾ç½®è¯¥æ¨¡å—ä¸º trueã€‚

```js
const editor = new FluentEditor('#editor', {
  theme: 'snow',
  modules: {
    toolbar: toolbarOptions,
    syntax: true, //Â å¯ç”¨ä»£ç å—é«˜äº®æ¨¡å—
    file: true, //Â å¯ç”¨æ–‡ä»¶ä¸Šä¼ æ¨¡å—
    'emoji-toolbar': true //Â å¯ç”¨æ’å…¥è¡¨æƒ…æ¨¡å—
  }
})
```

è¿˜å¯ä»¥ä¼ å…¥ä¸€äº›é…ç½®é¡¹ï¼Œå®šåˆ¶æ¨¡å—çš„åŠŸèƒ½ï¼Œæ¯”å¦‚ï¼šé…ç½®è¡¨æ ¼å³é”®æ“ä½œèœå•ã€‚

```js
const editor = new FluentEditor('#editor', {
  theme: 'snow',
  modules: {
    toolbar: toolbarOptions,
    'better-table': {
      operationMenu: {
        color: {
          text: 'ä¸»é¢˜è‰²',
          colors: [
            '#ffffff',
            '#f2f2f2',
            '#dddddd',
            '#a6a6a6',
            '#666666',
            '#000000',
            '#c00000',
            '#ff0000',
            '#ffc8d3',
            '#ffc000',
            '#ffff00',
            '#fff4cb',
            '#92d050',
            '#00b050',
            '#dff3d2',
            '#00b0f0',
            '#0070c0',
            '#d4f1f5',
            '#002060',
            '#7030a0',
            '#7b69ee',
            '#1476ff',
            '#ec66ab',
            '#42b883'
          ]
        }
      }
    }
  }
})
```

![å›¾ç‰‡](../../image/feature-tinyeditor/4-3.png)

æ›´å¤šä½¿ç”¨æ–¹å¼å¯å‚è€ƒ Fluent Editor å’Œ Quill æ–‡æ¡£ï¼š

- Fluent Editorï¼š<https://opentiny.github.io/fluent-editor/docs/custom-toolbar>
- Quillï¼š<https://quilljs.com/docs/modules>

## 4 é…ç½® Quill ç”Ÿæ€æ¨¡å—

Quill æ˜¯ä¸€ä¸ªæ¨¡å—åŒ–çš„å¯Œæ–‡æœ¬ï¼Œæ‹¥æœ‰å¾ˆå¤šå¤–éƒ¨ç”Ÿæ€æ¨¡å—ï¼ŒFluent Editor åŸºäº Quillï¼Œå’Œ Quill æ‹¥æœ‰ä¸€æ ·çš„æ¨¡å—åŒ–èƒ½åŠ›ï¼Œæˆ‘ä»¬ä»ä»¥ä¸‹ Quill æ¨¡å—åˆ—è¡¨ä¸­é€‰æ‹©ä¸€ä¸ª Markdown å¿«æ·é”®çš„æ¨¡å—ï¼š`quill-markdown-shortcuts`ï¼Œé…ç½®åˆ°æˆ‘ä»¬çš„ Fluent Editor å¯Œæ–‡æœ¬ä¸­ã€‚

<https://github.com/quilljs/awesome-quill>

é¦–å…ˆéœ€è¦å®‰è£… Â `quill-markdown-shortcuts`ã€‚

```shell
npmÂ iÂ quill-markdown-shortcuts
```

ç„¶åæ³¨å†Œè¿™ä¸ªæ¨¡å—ï¼š

```js
import FluentEditor from '@opentiny/fluent-editor'

//Â å¼•å…¥å’Œæ³¨å†Œ
import MarkdownShortcuts from 'quill-markdown-shortcuts'

FluentEditor.register('modules/markdownShortcuts', MarkdownShortcuts)
```

é…ç½®åˆ° modules ä¸­å³å¯ï¼š

```js
new FluentEditor('#editor', {
  theme: 'snow',
  modules: {
    markdownShortcuts: {} //Â å¯åŠ¨Â MarkdownÂ å¿«æ·é”®æ¨¡å—
  }
})
```

è¿™æ—¶æˆ‘ä»¬åœ¨å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ä¸­è¾“å…¥ Markdown è¯­æ³•çš„å¿«æ·é”®ï¼Œæ¯”å¦‚ï¼š`#`ï¼ŒæŒ‰ç©ºæ ¼é”®ï¼Œä¼šè‡ªåŠ¨å˜æˆä¸€çº§æ ‡é¢˜çš„æ ¼å¼ã€‚

æ•ˆæœå¦‚ä¸‹ï¼š

![å›¾ç‰‡](../../image/feature-tinyeditor/4-4.gif)

é™¤äº†é…ç½®ç°æœ‰æ¨¡å—ä¹‹å¤–ï¼Œè¿˜æ”¯æŒæ‰©å±•æ–°æ¨¡å—ï¼Œå…·ä½“å¯ä»¥å‚è€ƒæˆ‘ä¹‹å‰å†™çš„æ–‡ç« ï¼š

[æ·±å…¥æµ…å‡º Quill ç³»åˆ—ä¹‹åŸç†ç¯‡ 1ï¼šç°ä»£å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ Quill çš„æ¨¡å—åŒ–æœºåˆ¶](http://mp.weixin.qq.com/s?__biz=MzI2MDE3MTM4MA==&mid=2701520992&idx=1&sn=edac7d955fb929832147599bf23ca7cc&chksm=ce9ce37bf9eb6a6d1bc20cc988a37f668337e45675c0cb8077a6f8b1878412320e07a3288b4b&scene=21#wechat_redirect)

## 5 åœ¨å¤šç§å‰ç«¯æ¡†æ¶ä¸­ä½¿ç”¨

Fluent Editor æ˜¯ä¸€ä¸ªæ¡†æ¶æ— å…³çš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œå¯ä»¥åœ¨ä»»æ„å‰ç«¯æ¡†æ¶ä¸­ä½¿ç”¨ã€‚

æ¯”å¦‚åœ¨ Vue ä¸­ä½¿ç”¨ï¼š

App.vue

```html
<script setup lang="ts">
  import { onMounted } from 'vue'
  import FluentEditor from '@opentiny/fluent-editor'

  onMounted(() => {
    new FluentEditor('#editor', {
      theme: 'snow'
    })
  })
</script>

<template>
  Â Â 
  <div id="editor"></div>
</template>
```

åœ¨ React ä¸­ä½¿ç”¨ï¼š

App.tsx

```ts
import { useEffect } from 'react'
import FluentEditor from '@opentiny/fluent-editor'
import '@opentiny/fluent-editor/style.css'

function App() {
  useEffect(() => {
    new FluentEditor('#editor', {
      theme: 'snow'
    })
  })

  return <div id="editor"></div>
}

export default App
```

## 6 æ€»ç»“

æœ¬æ–‡ä¸»è¦ä»ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ç»™å¤§å®¶è¿›è¡Œåˆ†äº«ã€‚

- å…ˆæ˜¯å¸¦å¤§å®¶å¿«é€Ÿä¸Šæ‰‹ä½¿ç”¨ Fluent Editor å¯Œæ–‡æœ¬
- ç„¶åæ˜¯ä»‹ç»å¼€å‘ä¸­æœ€å¸¸è§çš„é…ç½®å·¥å…·æ ï¼Œå…±å†…ç½® 27 ç§å®ç”¨çš„å·¥å…·æ æŒ‰é’®
- å†ä»‹ç» Fluent Editor çš„ 11 ä¸ªå†…ç½®æ¨¡å—ï¼Œå¹¶é‡ç‚¹ä»‹ç»è¡¨æ ¼æ¨¡å—çš„é…ç½®
- ç”±äº Fluent Editor æ˜¯å…¼å®¹ Quill ç”Ÿæ€çš„ï¼Œä»¥ Markdown å¿«æ·é”®çš„æ¨¡å—ï¼š`quill-markdown-shortcuts`Â  ä¸ºä¾‹ï¼Œä»‹ç»å¦‚ä½•é…ç½® Quill ç”Ÿæ€æ¨¡å—
- æœ€åä»‹ç»äº†å¦‚ä½•åœ¨ Vue / React æ¡†æ¶ä¸­ä½¿ç”¨ Fluent Editor

æ›´å¤šç”¨æ³•è¯·å‚è€ƒ Fluent Editor å®˜ç½‘ï¼š<https://opentiny.github.io/fluent-editor/>

ç”±äº Fluent Editor å°±æ˜¯åŸºäº Quill è¿›è¡Œå°è£…çš„ï¼Œå…¶å®æŒæ¡ Quill åŸºæœ¬ä¸Šå°±æŒæ¡äº† Fluent Editorï¼Œæ¬¢è¿å¤§å®¶å…³æ³¨æˆ‘ä¹‹å‰å†™çš„ã€Šæ·±å…¥æµ…å‡º Quillã€‹ç³»åˆ—æ–‡ç« ï¼š

<https://juejin.cn/column/7325707131678769152>

Kagol ä¸ªäººåšå®¢ï¼š<https://kagol.github.io/blogs>

## è”ç³»æˆ‘ä»¬

[TinyVue GitHub](https://github.com/opentiny/tiny-vue)ï¼š[https://github.com/opentiny/tiny-vue](https://github.com/opentiny/tiny-vue)ï¼ˆæ¬¢è¿ Star â­ï¼‰

[TinyVue å®˜ç½‘](https://opentiny.design/tiny-vue)ï¼š<https://opentiny.design/tiny-vue>

[OpenTiny B ç«™](https://space.bilibili.com/15284299)ï¼š<https://space.bilibili.com/15284299>

å°åŠ©æ‰‹å¾®ä¿¡ï¼šopentiny-official

å…¬ä¼—å·ï¼šOpenTiny
