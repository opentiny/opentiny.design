Fluent EditorÂ  æ˜¯ä¸€ä¸ªåŸºäº Quill 2.0 çš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œåœ¨ Quill åŸºç¡€ä¸Šæ‰©å±•äº†ä¸°å¯Œçš„æ¨¡å—å’Œæ ¼å¼ï¼Œæ¡†æ¶æ— å…³ã€åŠŸèƒ½å¼ºå¤§ã€å¼€ç®±å³ç”¨ã€‚

- æºç ï¼š<https://github.com/opentiny/fluent-editor/ï¼ˆæ¬¢è¿> Star â­ï¼‰
- å®˜ç½‘ï¼š<https://opentiny.github.io/fluent-editor/>

## Quill å†…ç½®å…¬å¼

Quill å†…ç½®äº†å…¬å¼çš„åŠŸèƒ½ï¼ŒåŸºäº Â `KaTeX`ï¼Œä½¿ç”¨æ—¶éœ€è¦å®‰è£… katex ä¾èµ–ï¼Œå¹¶å¯¼å…¥å¯¹åº”çš„æ ·å¼ã€‚

å®‰è£… katex ä¾èµ–ï¼š

```bash
npmÂ iÂ katex
```

ä½¿ç”¨ Quill å†…ç½® formula å…¬å¼ï¼š

```html
<script setup lang="ts">
  import { onMounted } from 'vue'

  //Â å¯¼å…¥Â katexÂ å’Œå¯¹åº”çš„æ ·å¼
  import katex from 'katex'
  import 'katex/dist/katex.min.css'

  //Â æŒ‚è½½Â katexÂ åˆ°Â windowÂ å˜é‡ä¸Š
  window.katex = katex

  let editor

  const TOOLBAR_CONFIG = [
    [{ header: [] }],
    ['bold', 'italic', 'underline', 'link'],
    [{ list: 'ordered' }, { list: 'bullet' }],
    ['clean'],
    ['formula'] //Â é…ç½®å…¬å¼å·¥å…·æ æŒ‰é’®
  ]

  onMounted(() => {
    editor = new FluentEditor('#editor', {
      theme: 'snow',
      modules: {
        toolbar: TOOLBAR_CONFIG
      }
    })
  })
</script>

<template>
  Â Â 
  <div id="editor" />
</template>
```

æ•ˆæœå›¾ï¼š

![å›¾ç‰‡](../../image/feature-tinyeditor/2-1.png)

å†…ç½®å…¬å¼.png

è¦æ’å…¥ä¸Šå›¾ä¸­çš„æ±‚å’Œå…¬å¼ï¼Œéœ€è¦çŸ¥é“è¯¥å…¬å¼å¯¹åº”çš„ Â KaTeXÂ  è¯­æ³•ã€‚

```css
\sum_{i=1}^{n}Â i^2
```

ç„¶åç‚¹å‡»å·¥å…·æ çš„å…¬å¼æŒ‰é’®ï¼Œå¹¶å°†ä¸Šé¢çš„å…¬å¼ç²˜è´´åˆ°å…¬å¼è¾“å…¥æ¡†ä¸­ï¼ŒæŒ‰å›è½¦é”®å°±å¯ä»¥æ’å…¥å…¬å¼å•¦ã€‚

ä»¥ä¸‹æ˜¯æ•ˆæœæ¼”ç¤ºï¼ˆGif åŠ¨å›¾ï¼‰ï¼š

![å›¾ç‰‡](../../image/feature-tinyeditor/2-2.gif)

å†…ç½®å…¬å¼ Gif.gif

Quill å†…ç½®å…¬å¼å¯¹äºç”¨æˆ·æ¥è¯´`æœ‰ä¸€å®šçš„ä½¿ç”¨æˆæœ¬`ï¼Œå¹¶ä¸”åªæ”¯æŒæ–°å¢å’Œåˆ é™¤å…¬å¼ï¼Œ`ä¸æ”¯æŒç¼–è¾‘å…¬å¼`ã€‚

## LaTeX å¯ç¼–è¾‘å…¬å¼

2024 å¹´ 9 æœˆ 27 æ—¥ï¼Œkiss-kerayÂ  æäº¤äº†ä¸€ä¸ª PRï¼Œä¸º Fluent Editor å¢åŠ  mathlive å¯ç¼–è¾‘å…¬å¼èƒ½åŠ›ã€‚

è¿‡äº†ä¸¤å¤© kiss-keray å…³é—­äº†è¿™ä¸ª PRï¼Œæˆ‘è§‰å¾—æŒºå¯æƒœçš„ï¼Œå°±é—®äº†ä¸€å¥ä¸ºä»€ä¹ˆå…³é—­äº†å‘¢ï¼Ÿ

![å›¾ç‰‡](../../image/feature-tinyeditor/2-3.png)

è¿‡äº†ä¸¤å¤© kiss-keray åˆé‡æ–°æäº¤äº†ä¸€ä¸ª PRÂ #95ï¼Œç»è¿‡ 20 å¤©å·¦å³çš„æ£€è§†å’Œäº¤æµï¼Œä»Šå¤©è¯¥ PR å·²åˆå…¥ä¸»å¹²åˆ†æ”¯ï¼Œå¹¶å‘å¸ƒæ­£å¼ç‰ˆæœ¬ï¼šv3.22.0ğŸ‰ğŸ‰ã€‚

æ„Ÿè°¢ Â kiss-kerayÂ  ä¸º Fluent Editor åšå‡ºçš„è´¡çŒ®ï¼Œè®© Fluent Editor å¯Œæ–‡æœ¬æ‹¥æœ‰è¿™ä¹ˆæ£’çš„å…¬å¼ç¼–è¾‘ä½“éªŒï¼

æ¬¢è¿æœ‹å‹ä»¬ä½“éªŒå’Œä½¿ç”¨ ğŸ‘

ä½¿ç”¨å¯ç¼–è¾‘å…¬å¼ä¹‹å‰ï¼Œéœ€è¦å…ˆå®‰è£… Â `mathlive`Â  ä¾èµ–ã€‚

```bash
npmÂ iÂ @opentiny/fluent-editor@3.22.0Â mathlive
```

```html
<script setup lang="ts">
  import { onMounted } from 'vue'

  //Â å¯¼å…¥Â mathliveï¼Œå¹¶å¼•å…¥å¯¹åº”çš„æ ·å¼
  import 'mathlive'
  import 'mathlive/static.css'
  import 'mathlive/fonts.css'

  let mathliveEditor

  const TOOLBAR_CONFIG = [
    [{ header: [] }],
    ['bold', 'italic', 'underline', 'link'],
    [{ list: 'ordered' }, { list: 'bullet' }],
    ['clean'],
    ['formula'] //Â é…ç½®å·¥å…·æ å…¬å¼æŒ‰é’®
  ]

  onMounted(() => {
    mathliveEditor = new FluentEditor('#mathliveEditor', {
      theme: 'snow',
      modules: {
        toolbar: {
          container: TOOLBAR_CONFIG,
          handlers: {
            formula() {
              //Â ç»‘å®šç‚¹å‡»å·¥å…·æ å…¬å¼æŒ‰é’®çš„äº‹ä»¶
              const mathlive = this.quill.getModule('mathlive')
              mathlive.createDialog('e=mc^2')
            }
          }
        },
        mathlive: true //Â å¼€å¯å¯ç¼–è¾‘å…¬å¼åŠŸèƒ½
      }
    })
  })
</script>

<template>
  Â Â 
  <div id="mathliveEditor" />
</template>
```

å¯ç¼–è¾‘å…¬å¼ä¹Ÿæ”¯æŒ KaTex/LaTeX è¯­æ³•ï¼Œå¯ä»¥ç›´æ¥å¤åˆ¶ä¸‹é¢çš„å…¬å¼ï¼Œç²˜è´´åˆ°å…¬å¼è¾“å…¥æ¡†ä¸­ã€‚

```css
\sum_{i=1}^{n}Â i^2
```

æ•ˆæœå¦‚ä¸‹ï¼š

![å›¾ç‰‡](../../image/feature-tinyeditor/2-4.png)

å¯ç¼–è¾‘å…¬å¼.png

åŒæ—¶ä¹Ÿæ”¯æŒå¯¹å…¬å¼è¿›è¡Œç¼–è¾‘ï¼Œç‚¹å‡»å…¬å¼è¾“å…¥æ¡†å³è¾¹çš„å°é”®ç›˜å›¾æ ‡å³å¯å‘¼èµ·å…¬å¼ç¼–è¾‘é”®ç›˜ï¼Œé‡Œé¢åŒ…å«éå¸¸ä¸°å¯Œçš„å…¬å¼ï¼Œä½¿ç”¨èµ·æ¥éå¸¸æ–¹ä¾¿ï¼Œä¹Ÿä¸éœ€è¦è®°å¿†å¤æ‚çš„ KaTeX/LaTeX å…¬å¼è¯­æ³•ã€‚

ä»¥ä¸‹æ˜¯æ•ˆæœæ¼”ç¤ºï¼ˆGif åŠ¨å›¾ï¼‰ï¼š

![å›¾ç‰‡](../../image/feature-tinyeditor/2-5.gif)

æ¬¢è¿é€šè¿‡ä»¥ä¸‹é“¾æ¥ä½“éªŒæ›´å¤šå¯ç¼–è¾‘å…¬å¼çš„åŠŸèƒ½ ğŸ‘

å¯ç¼–è¾‘å…¬å¼ä½“éªŒåœ°å€ï¼š<https://opentiny.github.io/fluent-editor/docs/formula>

## å¾€æœŸæ¨èæ–‡ç« 

- [ğŸ‰Fluent Editorï¼šä¸€ä¸ªåŸºäº Quill 2.0 çš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼ŒåŠŸèƒ½å¼ºå¤§ã€å¼€ç®±å³ç”¨ï¼](http://mp.weixin.qq.com/s?__biz=MzI2MDE3MTM4MA==&mid=2701521363&idx=1&sn=1d9ac1d8fd757848553e6d6a628a4696&chksm=ce9ce2c8f9eb6bded1cb58e52a9d777b63cd349d4353c37d4f27e6af37d727daec5725999819&scene=21#wechat_redirect)
- [ğŸ‘ å–œæŠ¥ï¼Fluent Editor å¼€æºå¯Œæ–‡æœ¬è¿æ¥äº†ç¬¬ä¸€ä½è´¡çŒ®è€…](http://mp.weixin.qq.com/s?__biz=MzI2MDE3MTM4MA==&mid=2701521407&idx=1&sn=db2240d78afddcb4f790e155e4ed684a&chksm=ce9ce2e4f9eb6bf20f27d46159d799d89ba1a1f505a4aa8eab3afa24fb41e203a7829e570776&scene=21#wechat_redirect)
- [ğŸˆFluent Editor å¯Œæ–‡æœ¬å¼€æº 2 ä¸ªæœˆçš„æ€»ç»“ï¼šå¢åŠ æ ¼å¼åˆ·ã€æˆªå±ã€TypeScript ç±»å‹å£°æ˜ç­‰æ–°ç‰¹æ€§](http://mp.weixin.qq.com/s?__biz=MzI2MDE3MTM4MA==&mid=2701521458&idx=1&sn=56fa9b07b0667801ce33c569569eb820&chksm=ce9ce129f9eb683f136caacf8d79161257e1a4ada45c24444787360c4520a0ebc8fe7dd0de9d&scene=21#wechat_redirect)

## å…³äº OpenTiny

OpenTiny å®˜ç½‘ï¼š<https://opentiny.design>\
TinyVue æºç ï¼š<https://github.com/opentiny/tiny-vue> ï¼ˆæ¬¢è¿ Star â­ï¼‰\
TinyEngine æºç ï¼š<https://github.com/opentiny/tiny-engine> ï¼ˆæ¬¢è¿ Star â­ï¼‰\
B ç«™ï¼š<https://space.bilibili.com/15284299>\
æ¬¢è¿åŠ å…¥ OpenTiny å¼€æºç¤¾åŒºã€‚æ·»åŠ å¾®ä¿¡å°åŠ©æ‰‹ opentiny-official ä¸€èµ·å‚ä¸äº¤æµå‰ç«¯æŠ€æœ¯ï½

## é™„ï¼šä¸ kiss-keray å…³äºå¯ç¼–è¾‘å…¬å¼çš„äº¤æµè¿‡ç¨‹

å¼€æºç¤¾åŒºæ˜¯ä¸€ä¸ªç¨‹åºå‘˜çš„èšé›†åœ°ï¼Œè®©æˆ‘ä»¬æœ‰æœºä¼šä¸å…¨çƒå„åœ°çš„å¼€å‘è€…è¿›è¡Œäº¤æµå’Œæ€æƒ³ç¢°æ’ï¼Œå‘ä»–äººå­¦ä¹ ã€å¯»æ±‚è‡ªæˆ‘æ”¹è¿›ï¼Œæˆ‘ä»¬è¦åšçš„å°±æ˜¯åœ¨ä¸äººæ²Ÿé€šçš„è¿‡ç¨‹ä¸­ä¿æŒ`è°¦é€Š`ã€`å‹å–„`å’Œ`è€å¿ƒ`ã€‚

ä¸€å¼€å§‹ kiss-keray æäº¤çš„ PR æ²¡æœ‰è´´æ•ˆæœå›¾ï¼Œæ‰€ä»¥æˆ‘å…ˆæ˜¯æäº†ä¸€ä¸ªé—®é¢˜ï¼š

> mathlive å…¬å¼å’Œ Quill åŸç”Ÿçš„ formula å…¬å¼æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ

kiss-keray å¾ˆè€å¿ƒåœ°ç»™æˆ‘è¿™ä¸ªæ²¡æ¥è§¦è¿‡ mathlive å¯è§†åŒ–å…¬å¼ç¼–è¾‘çš„å¤–è¡Œè§£é‡Šäº† mathlive å…¬å¼çš„å¥½å¤„ï¼š

> mathlive å…¬å¼æ”¯æŒå¯è§†åŒ–ç¼–è¾‘ï¼Œä½“éªŒæ›´åŠ å‹å¥½

![å›¾ç‰‡](../../image/feature-tinyeditor/2-6.png)

äºæ˜¯æˆ‘ç«‹é©¬åˆ‡åˆ° PR #95 å¯¹åº”çš„åˆ†æ”¯ï¼Œè¿›è¡Œå®é™…çš„ä½“éªŒï¼š

    bash
     ä»£ç è§£è¯»
    å¤åˆ¶ä»£ç 
    gh pr checkout 95

ç¡®å®ä½“éªŒéå¸¸æ£’ï¼Œè®©æˆ‘è§‰å¾—éå¸¸æƒŠå–œï¼Œäºæ˜¯æˆ‘èŠ±äº†å¾ˆå¤šæ—¶é—´è¿›è¡Œä»£ç æ£€è§†ï¼Œæ•´ä½“å®ç°éµå¾ª Quill çš„æ¨¡å—åŒ–æ–¹å¼ï¼Œæ²¡æœ‰å¤§é—®é¢˜ï¼Œä½†æˆ‘è¿˜æ˜¯å‘ç°ä¸¤ä¸ªå°é—®é¢˜ï¼š

- è¿™ä¸ª PR æŠŠ mathlive ä¾èµ–å†…ç½®äº†ï¼Œç”¨æˆ·ä¸ç®¡æ˜¯å¦ä½¿ç”¨ mathlive å…¬å¼ï¼Œéƒ½ä¼šè‡ªåŠ¨å®‰è£… mathlive ä¾èµ–ï¼Œæœªéµå¾ªæŒ‰éœ€ä½¿ç”¨çš„åŸåˆ™ï¼Œå¹¶æœ‰å¯èƒ½å¯¼è‡´ä¸å¿…è¦çš„åŒ…ä½“ç§¯å¢åŠ ã€‚
- mathlive ç›®å‰æ˜¯å•ç‹¬å¼€äº†ä¸€ä¸ª demo å¯¼èˆªï¼Œå¯¼è‡´ä¸åŸæ¥å…¬å¼ demo çš„å‰²è£‚ï¼Œdemo çš„å±‚æ¬¡æ··ä¹±ï¼Œå½±å“ç”¨æˆ·ä½¿ç”¨æ–‡æ¡£çš„ä½“éªŒã€‚

![å›¾ç‰‡](../../image/feature-tinyeditor/2-7.png)

kiss-keray å¾ˆå¿«å°±è§£å†³äº†ç¬¬äºŒä¸ªé—®é¢˜ï¼Œè€Œç¬¬ä¸€ä¸ªé—®é¢˜åˆ™æ²¡æœ‰æ‰¾åˆ°å¾ˆå¥½çš„è§£å†³æ–¹æ¡ˆã€‚

![å›¾ç‰‡](../../image/feature-tinyeditor/2-8.png)

æˆ‘æä¾›äº†æˆ‘çš„æ€è·¯ï¼Œå¹¶æä¾›äº†æˆªå±æ¨¡å—ä½œä¸ºå‚è€ƒã€‚

![å›¾ç‰‡](../../image/feature-tinyeditor/2-9.png)

ç¬¬ä¸€æ¬¡ kiss-keray å¹¶æœªé‡‡çº³ï¼Œå¹¶å¸Œæœ›å¯»æ‰¾ä¸€ç§æ›´ä¼˜é›…çš„æ–¹æ¡ˆï¼Œå¸Œæœ›å®ç°åœ¨è¿è¡Œæ—¶æ£€æŸ¥æ˜¯å¦å®‰è£…ä¾èµ–ã€‚

![å›¾ç‰‡](../../image/feature-tinyeditor/2-10.png)

ç¬¬äºŒæ¬¡æˆ‘è¯¦ç»†è§£é‡Šäº†è¿è¡Œæ—¶æ£€æŸ¥ä¾èµ–ä¸å¯è¡Œçš„åŸå› ï¼Œå¹¶æä¾›äº† Quill å†…éƒ¨è¯­æ³•é«˜äº®æ¨¡å—çš„ä¾‹å­ï¼Œç”¨ä»¥è¯´æ˜å°†å¤–éƒ¨ä¾èµ–å‰¥ç¦»å‡ºå»æ˜¯ Quill æ¨èçš„æ–¹å¼ï¼Œæœ‰åŠ©äºæå‡ç”¨æˆ·ä½“éªŒã€‚

![å›¾ç‰‡](../../image/feature-tinyeditor/2-11.png)

æœ€ç»ˆ kiss-keray é‡‡çº³äº†æˆ‘çš„è§‚ç‚¹ï¼Œå¹¶å®Œæˆäº† mathlive ä¾èµ–çš„å‰¥ç¦»ã€‚

![å›¾ç‰‡](../../image/feature-tinyeditor/2-12.png)

åŒæ—¶ kiss-keray è¿˜ä¼˜åŒ–äº† parchment çš„å¼•å…¥æ–¹æ¡ˆï¼Œä¸ç›´æ¥ä» parchment å¼•å…¥å†…å®¹ï¼Œè€Œæ˜¯ä» quill ä¸­å¼•å…¥ã€‚

å°†ä¾èµ–ä» @opentiny/fluent-editor ä¸»åŒ…ä¸­å‰¥ç¦»ï¼Œæœ‰åˆ©äºå‡å°‘äº§ç‰©ä½“ç§¯ï¼Œæå‡ä¸šåŠ¡çš„æ€§èƒ½ã€‚

æœ€ç»ˆ PR #95 è¢«åˆå…¥ï¼Œ[kiss-keray](https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fkiss-keray 'https://github.com/kiss-keray') ä¹Ÿæˆä¸ºäº† Fluent Editor å¼€æºé¡¹ç›®è´¡çŒ®è€…çš„ä¸€å‘˜ï¼Œæ„Ÿè°¢ kiss-keray çš„ä»˜å‡ºï¼Œæ¬¢è¿ kiss-keray çš„åŠ å…¥ï¼ğŸ‘

![å›¾ç‰‡](../../image/feature-tinyeditor/2-13.png)
