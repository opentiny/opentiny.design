æœ¬æ–‡ç”±ç¾½æ¯›ç¬”è®°ä½œè€…è§‚é»˜åŸåˆ›ã€‚
## èƒŒæ™¯ï¼šä½ä»£ç æ—¶ä»£çš„å¼€å‘æŒ‘æˆ˜

TinyEngineä½œä¸ºä¸€æ¬¾ä¼˜ç§€çš„ä½ä»£ç å¹³å°ï¼Œä»¥å…¶å¼ºå¤§çš„åŠŸèƒ½å’Œå¿«é€Ÿè¿­ä»£èƒ½åŠ›èµ¢å¾—äº†ä¼—å¤šå¼€å‘è€…çš„é’çã€‚å®ƒè®©å¼€å‘è€…èƒ½å¤Ÿé€šè¿‡å¯è§†åŒ–ç•Œé¢å¿«é€Ÿæ„å»ºåº”ç”¨ï¼Œå¤§å¤§æå‡äº†å¼€å‘æ•ˆç‡ã€‚

ç„¶è€Œï¼Œå°±åƒä¸€åº§ç¾ä¸½çš„èŠ±å›­éœ€è¦æ›´å¤šèŠ±å‰å“ç§æ¥è£…ç‚¹ä¸€æ ·ï¼ŒTinyEngineä¹Ÿé¢ä¸´ç€ç»„ä»¶ç”Ÿæ€çš„æŒ‘æˆ˜ï¼šå®˜æ–¹æä¾›çš„ç»„ä»¶è™½ç„¶ç²¾å¿ƒè®¾è®¡ï¼Œä½†æ•°é‡æœ‰é™ï¼Œéš¾ä»¥æ»¡è¶³ä¼ä¸šçº§é¡¹ç›®çš„å¤šæ ·åŒ–éœ€æ±‚ã€‚æ›´å…·æŒ‘æˆ˜æ€§çš„æ˜¯ï¼Œè¦å°†ç§æœ‰ç»„ä»¶åº“æ¥å…¥TinyEngineï¼Œå¿…é¡»å…ˆä¸ºæ¯ä¸ªç»„ä»¶ç”Ÿæˆå¯¹åº”çš„schemaæ–‡ä»¶â€”â€”è¿™å°±åƒä¸ºæ¯æœµèŠ±åˆ¶ä½œä¸“å±çš„æ ‡ç­¾å¡ç‰‡ã€‚

## ä»ç—›ç‚¹åˆ°æœºé‡ï¼šAIæ—¶ä»£çš„è§£å†³æ–¹æ¡ˆ

æœ€è¿‘ï¼Œæˆ‘ä»¬å…¬å¸é¢ä¸´ç€å°†ç§æœ‰ç»„ä»¶åº“æ¥å…¥TinyEngineçš„éœ€æ±‚ã€‚å¦‚æœé‡‡ç”¨ä¼ ç»Ÿçš„äººå·¥æ–¹å¼ä¸ºæ¯ä¸ªç»„ä»¶ç¼–å†™schemaæ–‡ä»¶ï¼Œä¸ä»…è€—æ—¶è´¹åŠ›ï¼Œæ›´é‡è¦çš„æ˜¯ç¼ºä¹é‚£ç§è®©äººå…´å¥‹çš„æŠ€æœ¯åˆ›æ–°æ„Ÿã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœæœ‰å‡ åä¸ªç»„ä»¶éœ€è¦å¤„ç†ï¼Œé‚£å°†æ˜¯ä¸€ä¸ªä»¤äººæœ›è€Œå´æ­¥çš„é‡å¤æ€§å·¥ä½œã€‚

è¿™è®©æˆ‘å¼€å§‹æ€è€ƒï¼šåœ¨AIæŠ€æœ¯æ—¥æ–°æœˆå¼‚çš„ä»Šå¤©ï¼Œæ˜¯å¦æœ‰æ›´ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆï¼Ÿ

### ä¼ ç»Ÿæ–¹æ¡ˆ VS AIæ–¹æ¡ˆ

åœ¨AIæ—¶ä»£ä¹‹å‰ï¼Œæˆ‘å¯èƒ½ä¼šé€‰æ‹©**Babel + ASTï¼ˆæŠ½è±¡è¯­æ³•æ ‘ï¼‰**çš„æŠ€æœ¯è·¯çº¿ï¼š
- è§£æVueç»„ä»¶æºç 
- éå†ASTèŠ‚ç‚¹
- æå–propsã€eventsã€slotsä¿¡æ¯
- æ‰‹å·¥ç¼–å†™è½¬æ¢é€»è¾‘

è¿™ç§æ–¹æ³•è™½ç„¶å¯è¡Œï¼Œä½†å°±åƒç”¨æ˜¾å¾®é•œé€ä¸ªæ£€æŸ¥ç»†èƒä¸€æ ·ç¹çã€‚è€Œç°åœ¨ï¼Œæˆ‘ä»¬æœ‰äº†æ›´å¼ºå¤§çš„å·¥å…·â€”â€”**AIå¤§è¯­è¨€æ¨¡å‹**ã€‚

ç»è¿‡åå¤è°ƒè¯•å’Œä¼˜åŒ–ï¼Œæˆ‘æˆåŠŸå¼€å‘å‡ºäº†ä¸€å¥—ä¸**Claude Sonnet 4**æ¨¡å‹å®Œç¾é…åˆçš„Promptï¼Œèƒ½å¤Ÿè‡ªåŠ¨åŒ–ç”Ÿæˆé«˜è´¨é‡çš„ç»„ä»¶schemaæ–‡ä»¶ã€‚è¿™å°±åƒæ‹¥æœ‰äº†ä¸€ä½ç»éªŒä¸°å¯Œçš„æ¶æ„å¸ˆåŠ©æ‰‹ï¼Œèƒ½å¤Ÿç†è§£ç»„ä»¶çš„æ¯ä¸€ä¸ªç»†èŠ‚å¹¶ç”Ÿæˆæ ‡å‡†åŒ–çš„é…ç½®æ–‡ä»¶ã€‚

## schema ç”Ÿæˆ Prompt:

> æ³¨æ„ï¼šgroup/category/npm è¿™ä¸‰ä¸ªå­—æ®µè¯·æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´ï¼Œä¸è¦ç…§æŠ„ï¼

```
# ä»»åŠ¡ï¼šVue ç»„ä»¶ Schema ç”Ÿæˆå™¨

ä½ æ˜¯ä¸€ä½ç²¾é€š Vue 3 Composition APIã€TypeScript åŠä½ä»£ç å¹³å°ç»„ä»¶é›†æˆçš„èµ„æ·±æ¶æ„å¸ˆã€‚ä½ çš„ä»»åŠ¡æ˜¯æ¥æ”¶ä¸€ä¸ª Vue ç»„ä»¶çš„æºä»£ç åŠç›¸å…³é¡¹ç›®æ–‡ä»¶ï¼Œç„¶åç”Ÿæˆä¸€ä¸ªå®Œå…¨ç¬¦åˆæŒ‡å®šè§„åˆ™ã€é«˜åº¦ç²¾ç¡®ä¸”ä¿¡æ¯ä¸°å¯Œçš„ JSON Schema æ–‡ä»¶ï¼Œç”¨äºé©±åŠ¨ä½ä»£ç å¹³å°ã€‚

ä½ çš„è¾“å‡ºå¿…é¡»æ˜¯ä¸€ä¸ª**å®Œæ•´çš„ã€æ ¼å¼æ­£ç¡®çš„ JSON å¯¹è±¡**ï¼Œä¸åŒ…å«ä»»ä½•é¢å¤–çš„è§£é‡Šæ€§æ–‡å­—ã€‚

---

### å‰ç½®æ£€æŸ¥ï¼šéªŒè¯è¾“å…¥ä¿¡æ¯

åœ¨å¼€å§‹ç”Ÿæˆ Schema ä¹‹å‰ï¼Œä½ å¿…é¡»é¦–å…ˆéªŒè¯æ˜¯å¦å·²æ”¶åˆ°æ‰€æœ‰å¿…éœ€çš„ä¿¡æ¯ã€‚

**ä»¥ä¸‹é¡¹ç›®æ˜¯å¿…éœ€çš„ï¼š**

1.  **`ç»„ä»¶æºä»£ç `**: ç›®æ ‡ `.vue` æ–‡ä»¶çš„å®Œæ•´å†…å®¹ã€‚
2.  **`package.json`**: é¡¹ç›®çš„ `package.json` æ–‡ä»¶å®Œæ•´å†…å®¹ã€‚

**å¯é€‰çš„ç»„ä»¶å…ƒæ•°æ®**ï¼š
*   `ä¸­æ–‡åç§° (zh_CN)`: å¦‚æœæœªæä¾›ï¼Œä»ç»„ä»¶çš„ `defineComponent({ name: '...' })` ä¸­æå– `name` å€¼ã€‚
*   `å›¾æ ‡ (icon)`: å¦‚æœæœªæä¾›ï¼Œä»ç»„ä»¶çš„ `defineComponent({ name: '...' })` ä¸­æå– `name` å€¼ã€‚
*   `æè¿° (description)`
*   `æ ‡ç­¾ (tags)`
*   `å…³é”®è¯ (keywords)`
*   `æ–‡æ¡£é“¾æ¥ (doc_url)`

**å¦‚æœå¿…éœ€ä¿¡æ¯ç¼ºå¤±ï¼Œè¯·ä¸è¦ç»§ç»­ã€‚** ä½ çš„å›åº”åº”è¯¥æ˜¯ä¸€ä¸ªæ¸…æ™°çš„è¯·æ±‚ï¼Œæ˜ç¡®æŒ‡å‡ºç”¨æˆ·éœ€è¦æä¾›å“ªäº›ç¼ºå¤±çš„å…·ä½“å†…å®¹ã€‚

åªæœ‰åœ¨ç¡®è®¤æ‰€æœ‰å¿…éœ€è¾“å…¥éƒ½å·²æä¾›åï¼Œæ‰èƒ½ç»§ç»­æ‰§è¡Œä¸‹é¢çš„ç”Ÿæˆæ­¥éª¤ã€‚

---

### ç¬¬ä¸€æ­¥ï¼šåˆ†æè¾“å…¥ (å‡è®¾å·²é€šè¿‡å‰ç½®æ£€æŸ¥)

ä½ å°†æ”¶åˆ°ä»¥ä¸‹è¾“å…¥ï¼š

1.  **`ç»„ä»¶æºä»£ç `**: ä¸€ä¸ªå®Œæ•´çš„ Vue ç»„ä»¶ (`.vue`) çš„æ–‡æœ¬å†…å®¹ã€‚
2.  **`package.json`**: é¡¹ç›®çš„ `package.json` æ–‡ä»¶å†…å®¹ã€‚
3.  **`ç»„ä»¶å…ƒæ•°æ®` (å¯é€‰)**:
    *   `ä¸­æ–‡åç§° (zh_CN)`
    *   `å›¾æ ‡ (icon)`
    *   `æè¿° (description)`
    *   `æ ‡ç­¾ (tags)`
    *   `å…³é”®è¯ (keywords)`
    *   `æ–‡æ¡£é“¾æ¥ (doc_url)`

---

### ç¬¬äºŒæ­¥ï¼šæ‰§è¡Œç”Ÿæˆè§„åˆ™

è¯·ä¸¥æ ¼æŒ‰ç…§ä»¥ä¸‹è§„åˆ™ï¼Œä¸€æ­¥æ­¥æ„å»ºæœ€ç»ˆçš„ JSON å¯¹è±¡ï¼š

#### 1. **é¡¶å±‚å­—æ®µå¡«å……**

*   `component`: ä»ç»„ä»¶çš„ `defineComponent({ name: '...' })` ä¸­æå– `name` å€¼ã€‚
*   **`name.zh_CN`**: 
    - å¦‚æœ `ç»„ä»¶å…ƒæ•°æ®` ä¸­æä¾›äº† `ä¸­æ–‡åç§°`ï¼Œåˆ™ä½¿ç”¨è¯¥å€¼
    - å¦åˆ™æ ¹æ® `component` åç§°è¿›è¡Œæ™ºèƒ½æ¨æ–­å’Œç¿»è¯‘ï¼š
      - `Button` -> `"æŒ‰é’®"`
      - `LoginInfo` -> `"ç™»å½•ä¿¡æ¯"`
      - `SixAxisRobot` -> `"å…­è½´æœºæ¢°è‡‚"`
      - `Chamber` -> `"è…”ä½“"`
      - `Aligner` -> `"å¯¹ä¸­å™¨"`
      - `MainMenuButton` -> `"ä¸»èœå•æŒ‰é’®"`
      - `CdsState` -> `"CDSçŠ¶æ€"`
      - å…¶ä»–åç§°æŒ‰è¯­ä¹‰è¿›è¡Œåˆç†çš„ä¸­æ–‡ç¿»è¯‘
*   **`icon`**: 
    - å¦‚æœ `ç»„ä»¶å…ƒæ•°æ®` ä¸­æä¾›äº† `å›¾æ ‡`ï¼Œåˆ™ä½¿ç”¨è¯¥å€¼
    - å¦åˆ™é»˜è®¤ä½¿ç”¨ `component` åç§°ï¼ˆå¦‚ `"SixAxisRobot"` -> `"SixAxisRobot"`ï¼‰
*   **`group`**: å›ºå®šä¸º `"DCP"`
*   **`category`**: å›ºå®šä¸º `"DCP"`
*   `description`: å¦‚æœ `ç»„ä»¶å…ƒæ•°æ®` ä¸­æä¾›äº† `description`ï¼Œåˆ™ä½¿ç”¨è¯¥å€¼ï¼›å¦åˆ™é»˜è®¤ä¸º `""`ã€‚
*   `tags`: å¦‚æœ `ç»„ä»¶å…ƒæ•°æ®` ä¸­æä¾›äº† `tags`ï¼Œåˆ™ä½¿ç”¨è¯¥å€¼ï¼›å¦åˆ™é»˜è®¤ä¸º `""`ã€‚
*   `keywords`: å¦‚æœ `ç»„ä»¶å…ƒæ•°æ®` ä¸­æä¾›äº† `keywords`ï¼Œåˆ™ä½¿ç”¨è¯¥å€¼ï¼›å¦åˆ™é»˜è®¤ä¸º `""`ã€‚
*   `doc_url`: å¦‚æœ `ç»„ä»¶å…ƒæ•°æ®` ä¸­æä¾›äº† `doc_url`ï¼Œåˆ™ä½¿ç”¨è¯¥å€¼ï¼›å¦åˆ™é»˜è®¤ä¸º `""`ã€‚
*   `devMode`: å›ºå®šä¸º `"proCode"`ã€‚

#### 2. **`npm` å¯¹è±¡æ„å»º**

æ ¹æ® `package.json` çš„å†…å®¹ï¼ŒåŠ¨æ€æ„å»º `npm` å¯¹è±¡ï¼š

*   `package`: ä» `package.json` ä¸­è¯»å– `name` å­—æ®µã€‚
*   `exportName`: **å¿…é¡»**ä¸é¡¶å±‚ `component` å­—æ®µçš„å€¼ä¿æŒä¸€è‡´ã€‚
*   `version`: ä» `package.json` ä¸­è¯»å– `version` å­—æ®µã€‚
*   `script`: åŸºäº `package.json` çš„ä¿¡æ¯ï¼Œæ‹¼æ¥æˆå›ºå®šæ ¼å¼ï¼š`"http://192.168.0.212:4874/{package}@{version}/js/web-component.mjs"`ã€‚
*   `destructuring`: å›ºå®šä¸º `true`ã€‚
*   `npmrc`:
    1.  ä» `package.json` çš„ `name` å­—æ®µæå– scope (ä¾‹å¦‚ `@dcp/component-library` -> `@dcp`)ã€‚
    2.  ä» `package.json` çš„ `publishConfig.registry` å­—æ®µæå– registry URL (å¹¶ç§»é™¤æœ«å°¾çš„ `/`)ã€‚
    3.  æ‹¼æ¥æˆ `"{scope}:registry={registry_url}"` çš„æ ¼å¼ã€‚

#### 3. **`configure` å¯¹è±¡æ„å»º**

ç”Ÿæˆå®Œæ•´çš„ `configure` å¯¹è±¡ï¼ŒåŒ…å«ä»¥ä¸‹æ‰€æœ‰å­—æ®µï¼š

**åŸºç¡€è¡Œä¸ºæ§åˆ¶**ï¼š
*   `loop`: å›ºå®šä¸º `true`ï¼ˆæ”¯æŒå¾ªç¯æ¸²æŸ“ï¼‰
*   `condition`: å›ºå®šä¸º `true`ï¼ˆæ”¯æŒæ¡ä»¶æ¸²æŸ“ï¼‰
*   `styles`: å›ºå®šä¸º `true`ï¼ˆæ”¯æŒæ ·å¼é…ç½®ï¼‰

**ç»„ä»¶ç±»å‹æ ‡è¯†**ï¼š
*   `isContainer`: æ ¹æ®ç»„ä»¶åˆ†æå†³å®šï¼š
    - å¦‚æœç»„ä»¶æ¨¡æ¿ä¸­åŒ…å« `<slot>` æ ‡ç­¾ï¼Œè®¾ç½®ä¸º `true`
    - å¦‚æœç»„ä»¶åç§°æš—ç¤ºå®¹å™¨ç”¨é€”ï¼ˆå¦‚ Layoutã€Containerã€Wrapperï¼‰ï¼Œè®¾ç½®ä¸º `true`
    - å¦åˆ™è®¾ç½®ä¸º `false`
*   `isModal`: å›ºå®šä¸º `false`ï¼ˆé™¤éç»„ä»¶æ˜ç¡®æ˜¯æ¨¡æ€æ¡†ï¼‰
*   `isPopper`: å›ºå®šä¸º `false`ï¼ˆé™¤éç»„ä»¶æ˜ç¡®æ˜¯å¼¹å‡ºæ¡†ï¼‰
*   `isNullNode`: å›ºå®šä¸º `false`
*   `isLayout`: æ ¹æ®ç»„ä»¶ç”¨é€”åˆ¤æ–­ï¼ŒLayout ç±»ç»„ä»¶è®¾ç½®ä¸º `true`ï¼Œå¦åˆ™ä¸º `false`

**åµŒå¥—è§„åˆ™**ï¼š
*   `nestingRule`: å¯¹è±¡åŒ…å«ä»¥ä¸‹å­—æ®µï¼Œé€šå¸¸è®¾ç½®ä¸ºé»˜è®¤å€¼ï¼š
    - `childWhitelist`: `""`ï¼ˆå…è®¸çš„å­ç»„ä»¶ç™½åå•ï¼Œé€šå¸¸ä¸ºç©ºï¼‰
    - `parentWhitelist`: `""`ï¼ˆå…è®¸çš„çˆ¶ç»„ä»¶ç™½åå•ï¼Œé€šå¸¸ä¸ºç©ºï¼‰
    - `descendantBlacklist`: `""`ï¼ˆç¦æ­¢çš„åä»£ç»„ä»¶é»‘åå•ï¼Œé€šå¸¸ä¸ºç©ºï¼‰
    - `ancestorWhitelist`: `""`ï¼ˆå…è®¸çš„ç¥–å…ˆç»„ä»¶ç™½åå•ï¼Œé€šå¸¸ä¸ºç©ºï¼‰

**ç¼–è¾‘å™¨é…ç½®**ï¼š
*   `rootSelector`: å›ºå®šä¸º `""`
*   `shortcuts.properties`: è¯†åˆ«å‡ºç»„ä»¶æœ€æ ¸å¿ƒã€æœ€å¸¸ç”¨çš„ 1-3 ä¸ª propsï¼Œå¡«å…¥æ­¤æ•°ç»„
*   `contextMenu`: å¯¹è±¡åŒ…å«ï¼š
    - `actions`: é»˜è®¤ä¸º `["copy", "remove", "insert", "updateAttr", "bindEevent"]`
    - `disable`: é»˜è®¤ä¸º `[]`

**äº¤äº’è¡Œä¸º** (å¯é€‰å­—æ®µï¼Œæ ¹æ®ç»„ä»¶ç±»å‹æ·»åŠ )ï¼š
*   `clickCapture`: å¯¹äºæŒ‰é’®ç±»ã€äº¤äº’ç±»ç»„ä»¶è®¾ç½®ä¸º `true`ï¼Œå…¶ä»–ç»„ä»¶å¯çœç•¥æˆ–è®¾ç½®ä¸º `false`
*   `framework`: å¦‚æœæ˜¯ç¬¬ä¸‰æ–¹ç»„ä»¶åº“ä¿æŒåŸå€¼ï¼Œè‡ªå®šä¹‰ç»„ä»¶è®¾ç½®ä¸º `"Vue"`

#### 4. **`schema.properties` (Props åˆ†ç»„æ˜ å°„)**

å°† Vue ç»„ä»¶çš„æ‰€æœ‰ props æŒ‰é€»è¾‘åŠŸèƒ½åˆ†ç»„ï¼Œç”Ÿæˆä¸€ä¸ª**åˆ†ç»„æ•°ç»„**ï¼š

**åˆ†ç»„ç­–ç•¥**ï¼š
*   **åŸºç¡€å±æ€§**: æ ¸å¿ƒåŠŸèƒ½ç›¸å…³çš„ propsï¼ˆå¦‚ nameã€sizeã€type ç­‰ï¼‰
*   **æ ·å¼å±æ€§**: å¤–è§‚ã€é¢œè‰²ã€å°ºå¯¸ç›¸å…³çš„ propsï¼ˆå¦‚ widthã€heightã€backgroundColorã€color ç­‰ï¼‰
*   **è¡Œä¸ºå±æ€§**: äº¤äº’ã€äº‹ä»¶ã€çŠ¶æ€ç›¸å…³çš„ propsï¼ˆå¦‚ disabledã€loadingã€onClick ç­‰ï¼‰
*   **é«˜çº§å±æ€§**: å¯é€‰çš„ã€ä¸“ä¸šé…ç½®é¡¹ï¼ˆå¦‚å¤æ‚å¯¹è±¡é…ç½®ã€é«˜çº§é€‰é¡¹ç­‰ï¼‰

**æ¯ä¸ªåˆ†ç»„å¯¹è±¡å¿…é¡»åŒ…å«**ï¼š
*   `name`: åˆ†ç»„æ ‡è¯†ç¬¦ï¼Œä½¿ç”¨æ•°å­—å­—ç¬¦ä¸²ï¼ˆå¦‚ `"0"`, `"1"`, `"2"`ï¼‰
*   `label.zh_CN`: åˆ†ç»„çš„ä¸­æ–‡æ˜¾ç¤ºåç§°ï¼ˆå¦‚ `"åŸºç¡€å±æ€§"`, `"æ ·å¼å±æ€§"`ï¼‰
*   `description.zh_CN`: åˆ†ç»„çš„ä¸­æ–‡æè¿°
*   `content`: è¯¥åˆ†ç»„ä¸‹çš„å…·ä½“å±æ€§é…ç½®æ•°ç»„

**`content` æ•°ç»„ä¸­çš„æ¯ä¸ªå±æ€§å¯¹è±¡å¿…é¡»åŒ…å«ä»¥ä¸‹å›ºå®šå­—æ®µ**ï¼š
*   `property`: Prop çš„åç§°
*   `label.text.zh_CN`: ä¸­æ–‡æ ‡ç­¾
*   `description`: ä¸­æ–‡æè¿°
*   `required`: æ ¹æ® Vue Prop ä¸­çš„ `required` å­—æ®µå†³å®šï¼Œé»˜è®¤ä¸º `false`
*   `readOnly`: å›ºå®šä¸º `false`
*   `disabled`: **å›ºå®šä¸º `false`**
*   `cols`: **å›ºå®šä¸º `12`**
*   `labelPosition`: å›ºå®šä¸º `"left"`
*   `type`: Vue ç±»å‹è½¬æ¢ä¸ºå°å†™å­—ç¬¦ä¸²
*   `defaultValue`: Vue Prop çš„é»˜è®¤å€¼
*   `widget`: æ ¹æ®ä»¥ä¸‹è§„åˆ™æ¨æ–­

**Widget æ¨æ–­è§„åˆ™ (æŒ‰ä¼˜å…ˆçº§é¡ºåº)**ï¼š

1. **validator å‡½æ•°è§£æ (æœ€é«˜ä¼˜å…ˆçº§)**:
   - å¦‚æœ Prop å®šä¹‰ä¸­å­˜åœ¨ `validator` å‡½æ•°ï¼Œè§£æå‡½æ•°ä½“ä¸­çš„é€‰é¡¹æ•°ç»„
   - è®¾ç½® `widget.component` ä¸º `"SelectConfigurator"`
   - è®¾ç½® `widget.props.options` ä¸ºè§£æå‡ºçš„é€‰é¡¹æ•°ç»„

2. **å±æ€§åç§°æ¨¡å¼åŒ¹é…**:
   - åç§°åŒ…å« `color` æˆ–é»˜è®¤å€¼ä»¥ `#` å¼€å¤´ -> `"ColorConfigurator"`ï¼Œprops: `{}`
   - åç§°åŒ…å« `icon` -> `"InputConfigurator"`ï¼Œprops: `{ "placeholder": "è¯·è¾“å…¥å›¾æ ‡åç§°" }`

3. **Vue ç±»å‹ + è¯­ä¹‰æ¨æ–­**:
   - `Boolean` ç±»å‹:
     - å¼€å…³è¯­ä¹‰ (show*, enable*, is*) -> `"SwitchConfigurator"`ï¼Œprops: `{}`
     - é€‰é¡¹è¯­ä¹‰ (disabled, loading, plain, round, circle) -> `"CheckBoxConfigurator"`ï¼Œprops: `{}`
   - `Number` ç±»å‹ -> `"NumberConfigurator"`ï¼Œæ ¹æ®å±æ€§åç§°è®¾ç½® props:
     - å°ºå¯¸ç±» (width, height, size): `{ "min": 50, "max": 2000, "step": 10 }`
     - è§’åº¦ç±» (rotate, angle): `{ "min": 0, "max": 360, "step": 1 }`
     - æ¯”ä¾‹ç±» (scale): `{ "min": 0.1, "max": 5, "step": 0.1 }`
     - æ—¶é—´ç±» (duration, delay): `{ "min": 0, "max": 50, "step": 0.1 }`
     - é»˜è®¤: `{ "step": 1 }`
   - `String` ç±»å‹ -> `"InputConfigurator"`ï¼Œprops: `{ "placeholder": "è¯·è¾“å…¥..." }`
   - `Object`/`Array` ç±»å‹ -> `"CodeConfigurator"`ï¼Œprops: `{ "language": "json", "height": 150 }`

4. **æ™ºèƒ½ç±»å‹åˆ†æ**:
   - å¦‚æœ Prop ç±»å‹ä¸º `Array as PropType<SomeInterface[]>`ï¼Œåœ¨ `description` ä¸­è¡¥å……æ¥å£ç»“æ„ä¿¡æ¯

#### 5. **`schema.events` (äº‹ä»¶æ˜ å°„)**

*   åœ¨ç»„ä»¶ `<script>` ä¸­æœç´¢æ‰€æœ‰ `emit('event-name', ...)` çš„è°ƒç”¨ã€‚
*   æ¯ä¸€ä¸ª `event-name` (kebab-case) éƒ½å¯¹åº” `events` å¯¹è±¡ä¸­çš„ä¸€ä¸ªé”®ã€‚
*   è¯¥é”®çš„å‘½åè§„åˆ™ä¸º **`'on' +` å°† `event-name` è½¬æ¢ä¸ºé¦–å­—æ¯å¤§å†™çš„é©¼å³°å¼ (CamelCase)**ã€‚ä¾‹å¦‚ï¼Œ`emit('menu-item-click')` æ˜ å°„ä¸º `onMenuItemClick`ã€‚
*   åˆ†æ `emit` çš„å‚æ•°ï¼Œä¸ºè¯¥äº‹ä»¶ç”Ÿæˆ `functionInfo.params` æ•°ç»„ã€‚

#### 6. **`schema.slots` (æ’æ§½åˆ†æ)**

*   æ‰«æç»„ä»¶çš„ `<template>` éƒ¨åˆ†ï¼Œå¯»æ‰¾æ‰€æœ‰ `<slot>` æ ‡ç­¾ã€‚
*   å¯¹äºæ¯ä¸€ä¸ª**å…·åæ’æ§½** (ä¾‹å¦‚ `<slot name="menu-items">`)ï¼Œåœ¨ `schema.slots` å¯¹è±¡ä¸­ä¸ºå…¶æ·»åŠ ä¸€ä¸ªæ¡ç›®ã€‚
*   è¯¥æ¡ç›®çš„é”®ä¸ºæ’æ§½å (`menu-items`)ï¼Œå€¼ä¸ºä¸€ä¸ªåŒ…å« `label.zh_CN` å’Œ `description.zh_CN` çš„å¯¹è±¡ï¼Œç”¨äºæè¿°è¯¥æ’æ§½çš„ç”¨é€”ã€‚

#### 7. **`snippets` (æ™ºèƒ½ä»£ç ç‰‡æ®µç”Ÿæˆ)**

*   ç”Ÿæˆä¸€ä¸ªåªåŒ…å«**å•ä¸ªé»˜è®¤ Snippet** çš„æ•°ç»„ `[]`ã€‚
*   `name.zh_CN`, `icon`, `snippetName` ä¸é¡¶å±‚å­—æ®µä¿æŒä¸€è‡´ã€‚
*   `schema.props`:
    *   **ä¼˜å…ˆç­–ç•¥**: åœ¨å·¥ä½œåŒºä¸­æŸ¥æ‰¾ä¸ç»„ä»¶åŒåçš„ `.stories.ts` æ–‡ä»¶ã€‚å¦‚æœæ‰¾åˆ°ï¼Œè¯·ä½¿ç”¨å…¶ `args` å¯¹è±¡ä½œä¸º `props` çš„æ•°æ®æ¥æºã€‚
    *   **å¤‡ç”¨ç­–ç•¥**: å¦‚æœæ‰¾ä¸åˆ° Storybook æ–‡ä»¶ï¼Œè¯·ä¸è¦ç®€å•åœ°ä½¿ç”¨ `defaultValue`ã€‚åº”æ ¹æ®æ¯ä¸ª Prop çš„è¯­å¢ƒï¼Œåˆ›å»ºä¸€ç»„æœ‰æ„ä¹‰ã€æ›´å…·ä»£è¡¨æ€§çš„ç¤ºä¾‹å€¼ï¼ˆä¾‹å¦‚ï¼Œ`username` ä½¿ç”¨ `'Admin'` è€Œä¸æ˜¯ `'User'`ï¼‰ã€‚

---

### ç¬¬ä¸‰æ­¥ï¼šè¾“å‡ºæœ€ç»ˆ JSON

è¯·æ•´åˆä»¥ä¸Šæ‰€æœ‰åˆ†æç»“æœï¼Œç”Ÿæˆæœ€ç»ˆçš„ JSON æ–‡ä»¶ã€‚
```

## å®æˆ˜æŒ‡å—ï¼šä»ç†è®ºåˆ°å®è·µ 

### ç¬¬ä¸€æ­¥ï¼šæ™ºèƒ½ç”ŸæˆSchema

è¿ç”¨AIç”Ÿæˆschemaçš„è¿‡ç¨‹å°±åƒä¸ä¸€ä½ä¸“ä¸šé¡¾é—®çš„å¯¹è¯ã€‚è®©æˆ‘ä»¬ä»¥**Cursorç¼–è¾‘å™¨**ä¸ºä¾‹ï¼Œä¸€æ­¥æ­¥åœ°ä½“éªŒè¿™ä¸ªè¿‡ç¨‹ï¼š

#### æ“ä½œæ­¥éª¤ï¼š
1. **æ‰“å¼€ç»„ä»¶é¡¹ç›®**ï¼šå¯åŠ¨Cursorï¼Œè¿›å…¥ä½ çš„Vueç»„ä»¶åº“é¡¹ç›®
2. **å‡†å¤‡ä¸Šä¸‹æ–‡ææ–™**ï¼šåœ¨èŠå¤©ç•Œé¢ä¸­æ·»åŠ ä»¥ä¸‹å…³é”®æ–‡ä»¶ï¼š
   - é¡¹ç›®æ ¹ç›®å½•çš„`package.json`
   - ç›®æ ‡ç»„ä»¶çš„`.vue`æºç æ–‡ä»¶
3. **ç²˜è´´Prompt**ï¼šå°†ä¸Šæ–‡æä¾›çš„å®Œæ•´Promptå¤åˆ¶åˆ°è¾“å…¥æ¡†
4. **å‘èµ·å¯¹è¯**ï¼šæŒ‰ä¸‹å›è½¦é”®ï¼Œç­‰å¾…AIçš„é­”æ³•å‘ç”Ÿ

#### ä¸ºä»€ä¹ˆé€‰æ‹©Claude Sonnet 4ï¼Ÿ
ç»è¿‡æµ‹è¯•å¯¹æ¯”ï¼Œæˆ‘å‘ç°**Claude Sonnet 4**åœ¨ç†è§£Vueç»„ä»¶ç»“æ„å’Œç”Ÿæˆç²¾å‡†schemaæ–¹é¢è¡¨ç°å‡ºè‰²ï¼Œåƒdeepseekã€qwenè¿™äº›å›½å†…æ¨¡å‹æš‚æ—¶æ— æ³•ï¼š

- **ç²¾å‡†çš„ç±»å‹æ¨æ–­**ï¼šèƒ½å¤Ÿæ­£ç¡®è¯†åˆ«Propsçš„TypeScriptç±»å‹å¹¶è½¬æ¢ä¸ºå¯¹åº”çš„widgeté…ç½®
- **æ™ºèƒ½çš„è¯­ä¹‰ç†è§£**ï¼šæ ¹æ®å±æ€§åç§°è‡ªåŠ¨æ¨æ–­åˆé€‚çš„ç¼–è¾‘å™¨ç»„ä»¶ï¼ˆé¢œè‰²é€‰æ‹©å™¨ã€æ•°å­—è¾“å…¥æ¡†ç­‰ï¼‰
- **ç»“æ„åŒ–è¾“å‡º**ï¼šç”Ÿæˆçš„JSONæ ¼å¼è§„èŒƒã€å®Œæ•´ï¼Œç›´æ¥å¯ç”¨

#### å®é™…æ•ˆæœå±•ç¤º

è®¾æƒ³æˆ‘ä»¬æœ‰ä¸€ä¸ªåä¸º`CustomButton`çš„Vueç»„ä»¶ï¼š

```vue
<template>
  <button 
    :class="buttonClass" 
    :disabled="disabled"
    @click="handleClick"
  >
    <slot>{{ label }}</slot>
  </button>
</template>

<script setup lang="ts">
import { computed } from 'vue'

interface Props {
  label?: string
  type?: 'primary' | 'secondary' | 'danger'
  size?: 'small' | 'medium' | 'large'
  disabled?: boolean
  loading?: boolean
}

const props = withDefaults(defineProps<Props>(), {
  label: 'æŒ‰é’®',
  type: 'primary',
  size: 'medium',
  disabled: false,
  loading: false
})

const emit = defineEmits<{
  click: [event: MouseEvent]
}>()

const handleClick = (event: MouseEvent) => {
  if (!props.disabled && !props.loading) {
    emit('click', event)
  }
}
</script>
```

é€šè¿‡AIå¤„ç†åï¼Œä¼šç”Ÿæˆä¸€ä¸ªåŒ…å«ä»¥ä¸‹å…³é”®ä¿¡æ¯çš„schemaï¼š
- **Propsåˆ†ç»„**ï¼šlabelã€typeã€sizeè¢«åˆ†ç±»ä¸ºâ€œåŸºç¡€å±æ€§â€ï¼Œdisabledã€loadingåˆ†ç±»ä¸ºâ€œè¡Œä¸ºå±æ€§â€
- **ç»„ä»¶ç±»å‹**ï¼štypeå±æ€§è‡ªåŠ¨é…ç½®ä¸ºä¸‹æ‹‰é€‰æ‹©å™¨ï¼Œå¹¶åŒ…å«æ­£ç¡®çš„é€‰é¡¹
- **äº‹ä»¶æ˜ å°„**ï¼šclickäº‹ä»¶è¢«æ­£ç¡®è½¬æ¢ä¸ºonClickå¤„ç†å‡½æ•°

### ç¬¬äºŒæ­¥ï¼šæ·»åŠ ç‰©æ–™
æŠŠä¸Šä¸€æ­¥å¾—åˆ°çš„jsonæ–‡ä»¶ä¿å­˜åˆ°TinyEngineé¡¹ç›®æ ¹ç›®å½•ä¸‹çš„`materials/components` æ–‡ä»¶å¤¹ä¸‹ã€‚

### ç¬¬ä¸‰æ­¥ï¼šæ·»åŠ ä»“åº“
å¦‚æœä½ æ²¡æœ‰æ·»åŠ è¿‡ä»“åº“é…ç½®ï¼Œé‚£ä¹ˆä½ éœ€è¦åœ¨ é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„`materials/packages.json` æ–‡ä»¶ä¸­æ·»åŠ ä½ çš„ä»“åº“ä¿¡æ¯ï¼š
```json
{
      "name": "DCPç»„ä»¶åº“",
      "package": "@dcp/component-library",
      "version": "0.0.60",
      "script": "http://192.168.0.212:4874/@dcp/component-library@0.0.60/js/web-component.mjs",
      "destructuring": true,
      "npmrc": "@dcp:registry=http://192.168.0.212:4873"
    }
```

### ç¬¬å››æ­¥ï¼šæ„å»ºç‰©æ–™
ç°åœ¨ä½ å¯ä»¥ç›´æ¥åœ¨ç»ˆç«¯æ‰§è¡Œ`pnpm buildMaterials` ï¼Œç­‰ç»ˆç«¯ä¸å†æœ‰æ–°çš„è¾“å‡ºæ—¶ï¼Œå¯ä»¥`ctrl + c` é€€å‡ºè„šæœ¬ã€‚

### ä¸€åˆ‡å°±ç»ªï¼Œå¯åŠ¨é¡¹ç›®éªŒæ”¶
è‡³æ­¤ï¼Œä½ å¯ä»¥`pnpm serve:frontend` åè®¿é—®é¡¹ç›®æ¥ä½¿ç”¨æ–°å¢çš„ç»„ä»¶äº†ã€‚
## é—®é¢˜æ’æŸ¥æŒ‡å—

åœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå³ä½¿æŒ‰ç…§ä¸Šè¿°æ­¥éª¤æ“ä½œï¼Œä¹Ÿå¯èƒ½é‡åˆ°ç»„ä»¶æœªæ­£å¸¸æ˜¾ç¤ºçš„æƒ…å†µï¼Œè¿™é‡Œä¸ºæ‚¨æä¾›äº†ç³»ç»ŸåŒ–çš„æ’æŸ¥æ–¹æ³•ã€‚

### å…³é”®æ£€æŸ¥ç‚¹ä¸€ï¼šç»„ä»¶è·å–æœºåˆ¶

é¦–å…ˆæ£€æŸ¥TinyEngineçš„ç»„ä»¶è·å–æœºåˆ¶æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚åœ¨ä»¥ä¸‹ä½ç½®æ·»åŠ è°ƒè¯•ä¿¡æ¯ï¼š

**æ–‡ä»¶ä½ç½®**: `packages/canvas/render/src/material-function/material-getter.ts#L109`

```js
export const getComponent = (name) => {
  // æ·»åŠ è°ƒè¯•ä¿¡æ¯
  console.log(`æ­£åœ¨è·å–ç»„ä»¶: ${name}ï¼š${getNative(name)}`)
  
  const result = Mapper[name] || getNative(name) || getBlock(name) || (isHTMLTag(name) ? name : getBlockComponent(name))
  
  console.log(`è·å–ç»“æœ:`, result)
  return result
}
```

â„¹ï¸ **æ’æŸ¥è¦ç‚¹**ï¼šå¯¹äºå¼•å…¥çš„ç»„ä»¶ï¼Œ`getNative(name)`åº”è¯¥è¿”å›éç©ºå€¼ã€‚å¦‚æœè¿”å›`undefined`ï¼Œè¯´æ˜ç»„ä»¶æ²¡æœ‰è¢«æ­£ç¡®æ³¨å†Œã€‚

### å…³é”®æ£€æŸ¥ç‚¹äºŒï¼šåŠ¨æ€å¯¼å…¥æœºåˆ¶

å¦‚æœä¸Šä¸€æ­¥æ£€æŸ¥å‘ç°é—®é¢˜ï¼Œæ¥ä¸‹æ¥æ’æŸ¥åŠ¨æ€å¯¼å…¥æœºåˆ¶ã€‚åœ¨ä»¥ä¸‹ä½ç½®æ·»åŠ è°ƒè¯•ä»£ç ï¼š

**æ–‡ä»¶ä½ç½®**: `packages/canvas/common/src/utils.ts#L100`

```js
const dynamicImportComponentLib = async ({ pkg, script }: DynamicImportParams): Promise<any> => {
  console.log(`å¼€å§‹å¯¼å…¥ç»„ä»¶åº“: ${pkg}`)
  
  if (window.TinyComponentLibs[pkg]) {
    console.log(`ç»„ä»¶åº“å·²å­˜åœ¨ç¼“å­˜ä¸­: ${pkg}`)
    return window.TinyComponentLibs[pkg]
  }

  if (!script) {
    console.warn(`ç»„ä»¶åº“ ${pkg} ç¼ºå°‘ script é…ç½®`)
    return {}
  }

  const href = window.parent.location.href || location.href
  const scriptUrl = script.startsWith('.') ? new URL(script, href).href : script
  
  console.log(`åŠ¨æ€å¯¼å…¥ç»„ä»¶åº“è„šæœ¬: ${scriptUrl}`)

  if (!window.TinyComponentLibs[pkg]) {
    try {
      const modules = await import(/* @vite-ignore */ scriptUrl)
      console.log(`ç»„ä»¶åº“å¯¼å…¥æˆåŠŸ:`, modules)
      window.TinyComponentLibs[pkg] = modules
    } catch (error) {
      console.error(`ç»„ä»¶åº“å¯¼å…¥å¤±è´¥: ${pkg}`, error)
      return {}
    }
  }

  return window.TinyComponentLibs[pkg]
}
```

### å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

ğŸ“Œ **æœ€å¸¸è§é—®é¢˜**ï¼šç»„ä»¶æœªæ­£ç¡®å¯¼å‡º

åœ¨æˆ‘çš„å®é™…ç»éªŒä¸­ï¼Œ**è¿™ä¸ªé—®é¢˜å‡ºç°é¢‘ç‡æœ€é«˜**ã€‚å¾ˆå¤šæ—¶å€™æˆ‘ä»¬åœ¨ç»„ä»¶åº“ä¸­å¼€å‘äº†æ–°ç»„ä»¶ï¼Œä½†å¿˜è®°åœ¨å…¥å£æ–‡ä»¶ä¸­å¯¼å‡ºå®ƒã€‚

âœ… **è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥ç»„ä»¶åº“çš„`index.ts`æˆ–`index.js`æ–‡ä»¶
2. ç¡®è®¤ç›®æ ‡ç»„ä»¶å·²ç»è¢«æ­£ç¡®å¯¼å‡ºï¼š
   ```js
   export { default as YourComponent } from './YourComponent.vue'
   ```

ğŸ“Œ **è„šæœ¬è·¯å¾„é”™è¯¯**

æ£€æŸ¥`packages.json`ä¸­çš„`script`å­—æ®µæ˜¯å¦æ­£ç¡®ã€‚å¸¸è§é”™è¯¯åŒ…æ‹¬ï¼š
- ç‰ˆæœ¬å·ä¸åŒ¹é…
- åŸŸåæˆ–ç«¯å£é”™è¯¯
- æ–‡ä»¶è·¯å¾„é”™è¯¯


é€šè¿‡ä»¥ä¸Šç³»ç»ŸåŒ–çš„æ’æŸ¥æ­¥éª¤ï¼Œç»å¤§å¤šæ•°é—®é¢˜éƒ½èƒ½å¤Ÿå¾—åˆ°å¿«é€Ÿè§£å†³ã€‚

---

å¦‚æœæ‚¨å¯¹AIå¼€å‘æ„Ÿå…´è¶£ï¼Œæ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼š**è§‚é»˜è§†ç•Œ**

åœ¨è¿™é‡Œï¼Œæˆ‘ä¼šåˆ†äº«æ›´å¤šå…³äºAIæŠ€æœ¯åœ¨å®é™…å¼€å‘ä¸­çš„å®æˆ˜ç»éªŒå’Œæœ€æ–°è¶‹åŠ¿ã€‚


## å…³äºOpenTiny

æ¬¢è¿åŠ å…¥ OpenTiny å¼€æºç¤¾åŒºã€‚æ·»åŠ å¾®ä¿¡å°åŠ©æ‰‹ï¼šopentiny-official ä¸€èµ·å‚ä¸äº¤æµå‰ç«¯æŠ€æœ¯ï½

[OpenTiny å®˜ç½‘](https://opentiny.design/)ï¼š**<https://opentiny.design>**  
[OpenTiny ä»£ç ä»“åº“](https://github.com/opentiny)ï¼š**<https://github.com/opentiny>**  
[TinyVue æºç ](https://github.com/opentiny/tiny-vue)ï¼š**<https://github.com/opentiny/tiny-vue>**  
[TinyEngine æºç ](https://github.com/opentiny/tiny-engine)ï¼šâ€…**<https://github.com/opentiny/tiny-engine>**  
æ¬¢è¿è¿›å…¥ä»£ç ä»“åº“ StarğŸŒŸTinyEngineã€TinyVueã€TinyNGã€TinyCLIã€TinyEditor~  
å¦‚æœä½ ä¹Ÿæƒ³è¦å…±å»ºï¼Œå¯ä»¥è¿›å…¥ä»£ç ä»“åº“ï¼Œæ‰¾åˆ° good first issueæ ‡ç­¾ï¼Œä¸€èµ·å‚ä¸å¼€æºè´¡çŒ®~