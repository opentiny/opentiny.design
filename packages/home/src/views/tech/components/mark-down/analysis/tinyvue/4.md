åœ¨æœ¬æœŸã€Šæ‰‹æŠŠæ‰‹æ•™ä½ å®ç° mini ç‰ˆ TinyVue ç»„ä»¶åº“ã€‹çš„ä¸»é¢˜ç›´æ’­ä¸­ï¼Œåä¸ºäº‘å‰ç«¯å¼€å‘ DTSE æŠ€æœ¯å¸ƒé“å¸ˆé˜¿å¥è€å¸ˆç»™å¼€å‘è€…ä»¬å±•å¼€äº†ç»„ä»¶åº“è·¨æ¡†æ¶çš„è®¨è®ºï¼ŒåŒæ—¶é’ˆå¯¹ TinyVue ç»„ä»¶åº“çš„å…³é”®æŠ€æœ¯è¿›è¡Œäº†å‰–æï¼Œå¹¶é€šè¿‡é¡¹ç›®å®æˆ˜æ¼”ç¤ºäº†ä¸€ä»½æºç ç¼–è¯‘å‡º 2 ä¸ªä¸åŒ Vue æ¡†æ¶çš„ç»„ä»¶ã€‚æœ€åé’ˆå¯¹æ¡†æ¶é—´çš„å·®å¼‚ï¼Œä¹Ÿç»™å‡ºäº†ç›¸åº”çš„æŠ€æœ¯æ–¹æ¡ˆï¼Œå¸®åŠ©å¼€å‘è€…ä»¬å®æˆ˜å®Œæˆç»„ä»¶åº“è·¨æ¡†æ¶ã€‚

ç›´æ’­é“¾æ¥ï¼š<https://bbs.huaweicloud.com/live/DTT_live/202404171630.html>

## **ä¸€ã€æ‰‹æŠŠæ‰‹å¸¦ä½ å®ç° mini ç‰ˆ TinyVue**

å½“å‰å®ç°ç»„ä»¶åº“çš„è·¨æ¡†æ¶æŠ€æœ¯ï¼Œæ˜¯æå‡ Web é¡µé¢å¼€å‘æ•ˆç‡ä¸åº”ç”¨çµæ´»æ€§çš„é‡è¦æ‰‹æ®µã€‚æœ¬æ¬¡ç›´æ’­çš„å®æˆ˜ç¯èŠ‚ï¼Œç”¨ 300 è¡Œä»£ç æ¨¡æ‹Ÿäº† TinyVue ç»„ä»¶åº“çš„è·¨æ¡†æ¶å®ç°ï¼Œå¼€å‘è€…å¯ä»¥åœ¨ mini ç‰ˆç»„ä»¶åº“ä¸­ï¼Œå¤ç°è·¨æ¡†æ¶åŠå¤šç«¯é€‚é…ä¸¤å¤§åŠŸèƒ½ã€‚åŒæ—¶é€šè¿‡æœ¬æœŸçš„å®æ“ç¯èŠ‚ï¼Œä¹Ÿç»™å¼€å‘è€…å‘ˆç°ä¸€ä¸ªæ˜ç¡®ä¸”è¯¦å°½çš„å®ç°æµç¨‹ï¼ŒååŠ©å¤§å®¶æ›´å¥½çš„ç†è§£å¹¶æŒæ¡è·¨æ¡†æ¶æŠ€æœ¯å¹¶è¿ç”¨åˆ°å®é™…å·¥ä½œä¸­ã€‚

å…·ä½“æºç å¯å‚è€ƒï¼š <https://github.com/opentiny/mini-tiny-vue>

![å›¾ç‰‡](../../image/analysis-tinyvue/4-1.png)

## **äºŒã€ä¸ºä»€ä¹ˆè¦å®ç°ç»„ä»¶åº“è·¨æ¡†æ¶å‘¢ï¼Ÿ**

ç›®å‰ï¼ŒVue æ‹¥æœ‰ Vue2 å’Œ Vue3 ä¸¤å¤§ä¸»è¦åˆ†æ”¯ï¼Œå®ƒä»¬åœ¨å¼€å‘ä¸Šå¹¶ä¸å…¼å®¹ã€‚Vue2 è¿˜å¯ä»¥è¿›ä¸€æ­¥ç»†åˆ†ä¸º 2.6 åŠä¹‹å‰çš„ç‰ˆæœ¬å’Œ Vue2.7 è¿™ä¸¤ä¸ªå°åˆ†æ”¯ï¼Œå…¶ä¸­ Vue2.7 ä½œä¸º 2.6 ä¸ Vue3 ä¹‹é—´çš„è¿‡æ¸¡ç‰ˆæœ¬ï¼Œåœ¨å¼€å‘ä¸Šèµ·ç€æ¡¥æ¢ä½œç”¨ã€‚

å¯¹äºç°æœ‰é¡¹ç›®æ¥è®²ï¼Œå¦‚æœè¿ç§»åˆ° Vue3ï¼Œéš¾å…å­˜åœ¨ API åŠç»„ä»¶åŠŸèƒ½ä¸åŒæ­¥çš„æƒ…å†µï¼Œå› æ­¤è¿ç§»è¿‡ç¨‹å°†å­˜åœ¨ä¸€å®šçš„æˆæœ¬åŠé£é™©ã€‚è€Œåœ¨å½“å‰çš„ Vue ç”Ÿæ€ä¸­ï¼Œè¯¸å¦‚ Antdesign å’Œ Element ç­‰çŸ¥åç»„ä»¶åº“éƒ½æ¨å‡ºäº†æ”¯æŒ Vue2 å’Œ Vue3 çš„ç»„ä»¶ã€‚ç„¶è€Œè¿™äº›å®˜ç½‘æ–‡æ¡£å’Œ API å´å¹¶ä¸é€šç”¨ï¼Œè¿™æ„å‘³ç€å®é™…ä¸Šæ˜¯æä¾›äº†ä¸¤ä¸ªç‹¬ç«‹çš„ç»„ä»¶åº“æ¥å®ç°è·¨æ¡†æ¶æ”¯æŒçš„ã€‚

![å›¾ç‰‡](../../image/analysis-tinyvue/4-2.png)

ä½œä¸ºè‡´åŠ›äºå®ç°è·¨æ¡†æ¶çš„ TinyVue ç»„ä»¶åº“ï¼Œæ—¨åœ¨å®ç°è·¨ä¸åŒç‰ˆæœ¬çš„ Vue æ¡†æ¶å…¼å®¹æ€§ï¼Œå…¶ç‹¬ç‰¹ä¹‹å¤„åœ¨äºé‡‡ç”¨å•ä»½æºä»£ç ç­–ç•¥ï¼Œé€šè¿‡æ™ºèƒ½ç¼–è¯‘æŠ€æœ¯ï¼Œèƒ½å¤ŸåŒæ—¶ç”Ÿæˆé€‚ç”¨äº Vue 2.6ã€2.7 ç‰ˆæœ¬ä»¥åŠ Vue3 ç‰ˆæœ¬çš„ç»„ä»¶åŒ…ã€‚è¿™æ„å‘³ç€å¼€å‘è€…åªéœ€ç»´æŠ¤åŒä¸€ä¸ªå®˜æ–¹ç½‘ç«™ï¼Œå¹¶æä¾›ä¸€å¥—æ ‡å‡†åŒ–çš„ API æ¥å£ï¼Œå³å¯æ»¡è¶³å¤šç‰ˆæœ¬ Vue ç”¨æˆ·çš„éœ€æ±‚ã€‚è¿™ç§è®¾è®¡æœ‰æ•ˆåœ°å‡å°‘äº† TinyVue ç»„ä»¶åº“çš„ç»´æŠ¤æˆæœ¬å’Œæœªæ¥æŠ€æœ¯è¿ç§»çš„é£é™©ã€‚

## **ä¸‰ã€å…³é”®æŠ€æœ¯å‰–æ**

é¦–å…ˆä»¥ä¸€ä¸ª button ç»„ä»¶ä¸ºä¾‹ï¼Œç»„ä»¶çš„å·¦ä¸Šéƒ¨åˆ†æ˜¯æ¨¡æ¿ï¼Œä½œä¸ºç»„ä»¶çš„å…¥å£ï¼Œå®ƒé›†æˆäº†é€‚é…å±‚ã€renderless é€»è¾‘ä»¥åŠ theme æ ·å¼ï¼ˆæ­¤å¤„æš‚ä¸æ¶‰åŠ theme éƒ¨åˆ†ï¼‰ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œç»„ä»¶å†…éƒ¨å¹¶æœªåŒ…å«ä»»ä½•é€»è¾‘ä»£ç ï¼Œæ‰€æœ‰é€»è¾‘å‡è¢«æŠ½ç¦»è‡³ renderless ä¸­ï¼Œè¿™é‡Œå¯ä»¥æŒ‰ç…§ä¸‹å›¾æ‰€ç¤ºè§‚å¯Ÿå…¶è°ƒç”¨å…³ç³»ã€‚

![å›¾ç‰‡](../../image/analysis-tinyvue/4-3.png)

- ä» vue æ–‡ä»¶ï¼ˆå³ç»„ä»¶çš„å…¥å£æ–‡ä»¶ï¼‰å¼€å§‹ï¼Œå¼•å…¥äº†é€‚é…å±‚ä¸­çš„ setup å‡½æ•°å’Œæ— çŠ¶æ€çš„ renderless å‡½æ•°ã€‚setup å‡½æ•°çš„è°ƒç”¨è¿‡ç¨‹ä¸­ï¼Œå°†åŒ…å«çŠ¶æ€çš„ props å’Œ contextï¼Œä»¥åŠæ— çŠ¶æ€çš„çº¯å‡½æ•° renderless ä¸€å¹¶ä¼ å…¥ã€‚

- ç„¶åè¿›å…¥ setup å‡½æ•°å†…éƒ¨ï¼Œé€‚é…å±‚ä¸­çš„ tools å‡½æ•°ä¼šæ„é€ ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨äºæŠ¹å¹³æ¡†æ¶ä¹‹é—´çš„å·®å¼‚ï¼Œå¹¶å°†è¯¥å¯¹è±¡ä¼ é€’ç»™ renderless å‡½æ•°ã€‚è¿™æ ·ï¼Œåœ¨ renderless å‡½æ•°ä¸­ï¼Œå¯ä»¥æ”¾å¿ƒåœ°å¼•ç”¨è¯¥å¯¹è±¡ï¼Œè€Œæ— éœ€æ‹…å¿ƒç»„ä»¶æ˜¯åœ¨ vue2 è¿˜æ˜¯ vue3 ç¯å¢ƒä¸‹è¿è¡Œã€‚

- æ¥ä¸‹æ¥è°ƒç”¨çº¯å‡½æ•° renderlessã€‚å®ƒä¸ºæ¯ä¸ªç»„ä»¶æ„é€ ä¸€ä¸ªä¸å½“å‰ç»„ä»¶ç›¸å…³è”çš„ state å’Œ apiï¼Œè¿™äº›éƒ½æ˜¯æœ‰çŠ¶æ€çš„å€¼ã€‚éšåï¼Œè¿™äº›çŠ¶æ€å€¼è¢«è¿”å›ç»™é€‚é…å±‚ã€‚

- æœ€åé€‚é…å±‚å°†è¿™äº›çŠ¶æ€å€¼ä¼ é€’ç»™æ¨¡æ¿è¿›è¡Œç»‘å®šã€‚å…·ä½“è€Œè¨€ï¼Œstate è¢«ç»‘å®šåˆ°æ¨¡æ¿çš„æ•°æ®å€¼ä¸Šï¼Œè€Œ api åˆ™è¢«ç»‘å®šåˆ°æ¨¡æ¿çš„äº‹ä»¶ä¸Šã€‚

æ•´ä½“æ¥çœ‹ï¼Œè°ƒç”¨è¿‡ç¨‹å°±åƒä¸€ä¸ªç®¡é“ï¼Œæ•°æ®ä»æ¨¡æ¿å¼€å§‹æµåŠ¨ï¼Œç»è¿‡é€»è¾‘å¤„ç†ï¼Œå†æµå›åˆ°æ¨¡æ¿ä¸Šã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå®ƒæµç»çš„é€‚é…å±‚å·§å¦™åœ°æŠ¹å¹³äº†æ¡†æ¶ä¹‹é—´çš„å·®å¼‚ï¼Œæ­£æ˜¯ TinyVue è·¨æ¡†æ¶çš„ç²¾å¦™æ‰€åœ¨ã€‚

## **å››ã€å¦‚ä½•è§£å†³æ¡†æ¶å·®å¼‚ç»Ÿä¸€ï¼Œå®ç°è·¨æ¡†æ¶ï¼Ÿ**

1ã€æ¡†æ¶é—´çš„å·®å¼‚æ˜¯ä»€ä¹ˆï¼Ÿ

Vue3 æ˜¯ä¸€æ¬¡å…¨æ–°çš„æ¡†æ¶å‡çº§ï¼Œæ‰€ä»¥å®ƒçš„è¯­æ³•ä»¥åŠå†…éƒ¨å®ç°ï¼Œéƒ½å‘ç”Ÿäº†å¾ˆå¤§çš„å˜åŒ–ï¼Œè¿™äº›æ˜¯åœ¨å¼€å‘è·¨æ¡†æ¶ç»„ä»¶åº“æ—¶å¿…é¡»è€ƒè™‘çš„é—®é¢˜ã€‚è€Œåœ¨é•¿æœŸçš„è·¨æ¡†æ¶ç»„ä»¶åº“çš„å¼€å‘ä¸­ï¼Œå¯èƒ½ä¼šé‡åˆ°ä¼—å¤šçš„æ¡†æ¶å·®å¼‚ï¼Œå…·ä½“å¯ä»¥å°†è¿™äº›å·®å¼‚å½’ç»“ä¸º 2 å¤§ç±»ï¼š

ï¼ˆ1ï¼‰æ¡†æ¶å¯¹å¤–å·®å¼‚ï¼Œç›´æ¥å½±å“åˆ°æ¨¡æ¿çš„å¼€å‘ä»¥åŠæŸäº›è¯­æ³•ã€‚ä¾‹å¦‚ï¼š

- æ¨¡æ¿è¯­æ³•å·®å¼‚
- ç”Ÿå‘½å‘¨æœŸåç§°å˜åŒ–
- ç§»é™¤äº†äº‹ä»¶ä¿®é¥°ç¬¦ã€è¿‡æ»¤å™¨ã€æ¶ˆæ¯è®¢é˜…
- v-model è¯­æ³•ç³–å·®å¼‚
- æŒ‡ä»¤ï¼ŒåŠ¨ç”»ç»„ä»¶çš„å·®å¼‚

ï¼ˆ2ï¼‰æ¡†æ¶å†…éƒ¨å·®å¼‚ï¼Œä¸»è¦æ˜¯ Vue runtime å±‚é¢çš„å®ç°å·®å¼‚ã€‚åœ¨å¼€å‘è·¨æ¡†æ¶ç»„ä»¶è¿‡ç¨‹ä¸­ï¼Œéœ€è¦è®¿é—®ç»„ä»¶å†…éƒ¨æŸäº›å˜é‡æ—¶å¯èƒ½ä¼šé‡åˆ°ï¼Œä¾‹å¦‚ï¼š

- ç»„ä»¶å®ä¾‹çš„å·®å¼‚
- Vnode ç»“æ„çš„å·®å¼‚
- ç§»é™¤äº†$children, $scopedSlots ç­‰

2ã€Â  æ¡†æ¶å·®å¼‚åŠåº”å¯¹æ–¹æ¡ˆ

ï¼ˆ1ï¼‰å“åº”å¼å‡½æ•°å¼•å…¥åŒ…å·®å¼‚ï¼š

åœ¨ Vue 2.6 ä¸­å¼•å…¥å“åº”å‡½æ•°

```js
import { reactive, ref, watch, ... } from '@vue/composition-api'
```

åœ¨ Vue 3 ä¸­å¼•å…¥å“åº”å‡½æ•°

```js
import { reactive, ref, watch, ... } from 'vue'
```

**è§£å†³æ–¹æ¡ˆ**ï¼šé€šè¿‡åœ¨é€‚é…å±‚æš´éœ²ä¸€ä¸ª hooks å˜é‡ï¼Œç»Ÿä¸€å“åº”å¼å‡½æ•°çš„è®¿é—®ï¼Œä»£ç å¦‚ä¸‹

```js
// adapter/vue2/index.js
import * as hooks from '@vue/composition-api'
// adapter/vue3/index.js
import * as hooks from 'vue'
// adapter/index.jsexport { hooks }
```

ï¼ˆ2ï¼‰VNode å’Œ h å‡½æ•°çš„å·®å¼‚ï¼šåœ¨ Vue 2.6 ä¸­ï¼Œæ¸²æŸ“å‡½æ•°çš„ VNode å‚æ•°ç»“æ„

```js
{
  staticClass: 'button',
  class: { 'is-outlined': isOutlined },
  staticStyle: { color: '#34495E' },
  style: { backgroundColor: buttonColor },
  attrs: { id: 'submit' },
  domProps: { innerHTML: '' },
  on: { click: submitForm },
  key: 'submit-button'
}
```

åœ¨ Vue 3 ä¸­ï¼Œæ¸²æŸ“å‡½æ•°çš„ VNode å‚æ•°ç»“æ„æ˜¯æ‰å¹³çš„

```js
{
  class: ['button', { 'is-outlined': isOutlined }],
  style: [{ color: '#34495E' },
  { backgroundColor: buttonColor }],
  id: 'submit',  innerHTML: '',
  onClick: submitForm,
  key: 'submit-button'
}
```

**è§£å†³æ–¹æ¡ˆ**ï¼šé€šè¿‡åœ¨é€‚é…å±‚æš´éœ²ä¸€ä¸ª h å‡½æ•°ï¼Œè®© Vue3 æ¡†æ¶ä¹Ÿèƒ½æ”¯æŒ Vue2 çš„å‚æ•°æ ¼å¼ã€‚è¿™æ ·å°±èƒ½ç»Ÿä¸€ h å‡½æ•°çš„ç”¨æ³•ï¼ŒåŒæ—¶è®©åœ¨ Vue2 æ—¶æœŸå¼€å‘çš„ç»„ä»¶åœ¨ Vue3 æ¡†æ¶ä¸‹å…¼å®¹è¿è¡Œã€‚

```js
// adapter/vue2/index.js
const h = hooks.h

// adapter/vue3/index.js
const h = (component, propsData, childData) => {
  // ä»£ç æœ‰çœç•¥......
  let props = {}  let children = childData

  if (propsData && typeof propsData === 'object' && !Array.isArray(propsData)) {
  props = parseProps(propsData)
  propsData.scopedSlots && (children = propsData.scopedSlots)
  } else if (typeof propsData === 'string' || Array.isArray(propsData)) {
  childData = propsData
  }

  return hooks.h(component, props, children)
  }

// adapter/index.js
export { h }
```

ï¼ˆ3ï¼‰v-model çš„å·®å¼‚ï¼šåœ¨ Vue 2.6 ä¸­ï¼Œåœ¨ç»„ä»¶ä¸Šä½¿ç”¨ Â v-modelÂ  ç›¸å½“äºç»‘å®š Â valueÂ  å±æ€§å’Œ Â inputÂ  äº‹ä»¶

```js
  <ChildComponent v-model="pageTitle" />
  <!-- ä¼šç¼–è¯‘ä¸ºï¼š-->
  <ChildComponent :value="pageTitle" @input="pageTitle = $event" />
```

åœ¨ Vue 3 ä¸­ï¼Œv-model ç›¸å½“äºç»‘å®šäº† modelValue å±æ€§å’Œ update:modelValue äº‹ä»¶

```js
  <ChildComponent v-model="pageTitle" />
  <!-- ä¼šç¼–è¯‘ä¸ºï¼š-->
  <ChildComponent :modelValue="pageTitle" @update:modelValue="pageTitle = $event" />
```

**è§£å†³æ–¹æ¡ˆ**ï¼šé€šè¿‡ Vue2 ä¸­å£°æ˜ model çš„ option é€‰é¡¹ï¼Œæ¥è‡ªå®šä¹‰ Vue2 æ¡†æ¶ä¸‹ v-model çš„é»˜è®¤ç»‘å®š prop å’Œ event ã€‚

```js
defineComponent({
  model: {
    prop: 'modelValue', // é»˜è®¤å€¼ä¸º value
    event: 'update:modelValue' // é»˜è®¤å€¼ä¸º input
  },
  props: {
    modelValue: String
  } // ...
})
```

ï¼ˆ4ï¼‰slots çš„å·®å¼‚ï¼šÂ  åœ¨ Vue 2.6 ä¸­ï¼Œæœ‰æ™®é€šæ’æ§½ slots å’Œ ä½œç”¨åŸŸæ’æ§½ scopedSlots

```js
// æ™®é€šæ’æ§½ä¸ºå¯¹è±¡ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨
this.$slots.mySlot

// ä½œç”¨åŸŸæ’æ§½ä¸ºå‡½æ•°ï¼Œè¦æŒ‰å‡½æ•°æ¥è°ƒç”¨
this.$scopedSlots.header()
```

åœ¨ Vue 3 ä¸­ï¼Œç»Ÿä¸€ä¸º slots å‡½æ•°çš„å½¢å¼

```
// å°†æ‰€æœ‰ scopedSlots æ›¿æ¢ä¸º slots
this.$slots.header()

// å°†åŸæœ‰ slots æ”¹ä¸ºå‡½æ•°è°ƒç”¨æ–¹å¼
this.$slots.mySlot()
```

**è§£å†³æ–¹æ¡ˆ**ï¼šé€šè¿‡æ„å»ºä¸€ä¸ª vm.$slots å±æ€§ï¼Œ æ¥ç»Ÿä¸€ 2 ä¸ªæ¡†æ¶ä¸­ï¼Œè®¿é—® slots çš„è®¿é—®ã€‚

```js
// adapter/vue2/index.js
Object.defineProperties(vm, {
  // ......
  $slots: { get: () => instance.proxy.$scopedSlots },
  $scopedSlots: { get: () => instance.proxy.$scopedSlots }
})

// adapter/vue3/index.js
Object.defineProperties(vm, {
  // ......
  $slots: { get: () => instance.slots },
  $scopedSlots: { get: () => instance.slots }
})
```

æˆ‘ä»¬åœ¨ vm ä¸‹ï¼Œè¿˜æš´éœ²äº†è®¸å¤šæ¡†æ¶ runtime å±‚é¢ä¸Šçš„ç»„ä»¶å±æ€§ï¼Œç”¨äºæŠ¹å¹³è·¨ Vue æ¡†æ¶çš„å·®å¼‚ã€‚åœ¨å¼€å‘è·¨æ¡†æ¶ç»„ä»¶æ—¶ï¼Œè¦ä½¿ç”¨ vm æ¥è®¿é—®ç»„ä»¶ï¼Œé¿å…ç›´æ¥è®¿é—®ç»„ä»¶çš„ instanceã€‚

```js
// åˆ›å»ºä¸€ä¸ªVue2 è¿è¡Œæ—¶çš„å…¼å®¹ vm å¯¹è±¡
const createVm = (vm, _instance) => {
  const instance = _instance.proxy

  Object.defineProperties(vm, {
    $attrs: { get: () => instance.$attrs },
    $listeners: { get: () => instance.$listeners },
    $el: { get: () => instance.$el },
    $parent: { get: () => instance.$parent },
    $children: { get: () => instance.$children },
    $nextTick: { get: () => hooks.nextTick },
    $on: { get: () => instance.$on.bind(instance) },
    $once: { get: () => instance.$once.bind(instance) },
    $off: { get: () => instance.$off.bind(instance) },
    $refs: { get: () => instance.$refs },
    $slots: { get: () => instance.$scopedSlots },
    $scopedSlots: { get: () => instance.$scopedSlots },
    $set: { get: () => instance.$set }
  })

  return vm
}
// åˆ›å»ºä¸€ä¸ªVue3 è¿è¡Œæ—¶çš„å…¼å®¹ vm å¯¹è±¡
const createVm = (vm, instance) => {
  Object.defineProperties(vm, {
    $attrs: { get: () => $attrs },
    $listeners: { get: () => $listeners },
    $el: { get: () => instance.vnode.el },
    $parent: { get: () => instance.parent },
    $children: { get: () => genChild(instance.subTree) },
    $nextTick: { get: () => hooks.nextTick },
    $on: { get: () => $emitter.on },
    $once: { get: () => $emitter.once },
    $off: { get: () => $emitter.off },
    $refs: { get: () => instance.refs },
    $slots: { get: () => instance.slots },
    $scopedSlots: { get: () => instance.slots },
    $set: { get: () => $set }
  })

  return vm
}
```

ï¼ˆ5ï¼‰æŒ‡ä»¤çš„å·®å¼‚ï¼šVue3 çš„æŒ‡ä»¤ç”Ÿå‘½å‘¨æœŸçš„åç§°å˜åŒ–äº†,Â  ä½†æŒ‡ä»¤çš„å‚æ•°åŸºæœ¬ä¸å˜
![å›¾ç‰‡](../../image/analysis-tinyvue/4-4.png)
**è§£å†³æ–¹æ¡ˆ**ï¼šåœ¨å¼€å‘æŒ‡ä»¤å¯¹è±¡æ—¶ï¼Œé€šè¿‡è¡¥é½æŒ‡ä»¤å‘¨æœŸï¼Œè®©æŒ‡ä»¤å¯¹è±¡åŒæ—¶æ”¯æŒ Vue2 å’Œ Vue3
![å›¾ç‰‡](../../image/analysis-tinyvue/4-5.png)
ï¼ˆ6ï¼‰åŠ¨ç”»ç±»å‹çš„å·®å¼‚ï¼š
![å›¾ç‰‡](../../image/analysis-tinyvue/4-6.png)
**è§£å†³æ–¹æ¡ˆ**ï¼šåœ¨å…¨å±€çš„åŠ¨ç”»ç±»åæ–‡ä»¶ä¸­ï¼ŒåŒæ—¶è¡¥é½ 2 ä¸ªæ¡†æ¶ä¸‹çš„ç±»åï¼Œè®©åŠ¨ç”»ç±»åŒæ—¶æ”¯æŒ Vue2 å’Œ Vue3 çš„ Transition ç»„ä»¶

```js
// æ­¤å¤„åŒæ—¶å†™äº† -enter \  -enter-from çš„ç±»åï¼Œæ‰€ä»¥å®ƒåŒæ—¶æ”¯æŒvue2,vue3çš„ Transition ç»„ä»¶ã€‚
.fade-in-linear-enter,
.fade-in-linear-enter-from,
.fade-in-linear-leave-to {
  opacity: 0;
}
```

åœ¨æ„å»º TinyVue è·¨æ¡†æ¶ç»„ä»¶åº“çš„è¿‡ç¨‹ä¸­ï¼Œå›¢é˜Ÿé›†ä¸­æ”»å…‹äº†å¤šä¸ª Vue æ¡†æ¶é—´çš„å…³é”®å·®å¼‚ç‚¹ï¼Œå…¶ä¸­å…­é¡¹å°¤ä¸ºçªå‡ºä¸”å…·æœ‰ä»£è¡¨æ€§ã€‚  
å¼€å‘ TinyVue è·¨æ¡†æ¶ç»„ä»¶åº“æ—¶ï¼Œé¢å¯¹ Vue2 ä¸ Vue3 çš„é‡è¦åŒºåˆ«ï¼Œæˆ‘ä»¬ç¡®ç«‹äº†ä¸¤ä¸ªæ ¸å¿ƒåŸåˆ™ï¼šä¸€æ˜¯â€œæ±‚åŒå»å¼‚â€ï¼Œå³åœ¨ç¼–å†™ç»„ä»¶æ—¶é€‰ç”¨ä¸¤æ¡†æ¶éƒ½æ”¯æŒçš„é€šç”¨è¯­æ³•ï¼Œå¦‚å›  Vue2 ä¸æ”¯æŒå¤šæ ¹èŠ‚ç‚¹ç»„ä»¶è€Œç»Ÿä¸€é‡‡ç”¨å•æ ¹èŠ‚ç‚¹è®¾è®¡ï¼›äºŒæ˜¯â€œå…¼å®¹å¹¶åŒ…â€ï¼Œé€šè¿‡æ„å»ºé€‚é…å±‚éšè—æ¡†æ¶é—´çš„å·®å¼‚ï¼Œæä¾›ç»Ÿä¸€æ¥å£ï¼Œæ— éœ€å¼€å‘è€…æ‰‹åŠ¨åˆ¤æ–­æ¡†æ¶ç‰ˆæœ¬ï¼Œè¿™æ ·ä»–ä»¬å¯ä»¥æ›´ä¸“æ³¨äºé€»è¾‘å¼€å‘ã€‚åœ¨æŒ‡ä»¤å¯¹è±¡å’ŒåŠ¨ç”»ç±»åç­‰ç»†èŠ‚æ–¹é¢ï¼ŒåŒæ ·è´¯å½»è¿™ä¸€ç®€åŒ–å·®å¼‚ã€å¹¿æ³›å…¼å®¹çš„ç†å¿µã€‚

## **å…³äº OpenTiny**

[OpenTiny](https://opentiny.design/) æ˜¯ä¸€å¥—ä¼ä¸šçº§ Web å‰ç«¯å¼€å‘è§£å†³æ–¹æ¡ˆï¼Œæä¾›è·¨ç«¯ã€è·¨æ¡†æ¶ã€è·¨ç‰ˆæœ¬çš„ Â [TinyVue ç»„ä»¶åº“](https://opentiny.design/tiny-vue/zh-CN/overview)ï¼ŒåŒ…å«åŸºäº Angular+TypeScript çš„ [TinyNG ç»„ä»¶åº“](https://opentiny.design/tiny-ng/overview)ï¼Œæ‹¥æœ‰çµæ´»æ‰©å±•çš„ä½ä»£ç å¼•æ“ [TinyEngine](https://opentiny.design/tiny-engine#/home)ï¼Œå…·å¤‡ä¸»é¢˜é…ç½®ç³»ç»Ÿ[TinyTheme](https://opentiny.design/designtheme/home) / ä¸­åå°æ¨¡æ¿[TinyPro](https://opentiny.design/pro/home)/ [TinyCLI](https://opentiny.design/tiny-cli/home)å‘½ä»¤è¡Œç­‰ä¸°å¯Œçš„æ•ˆç‡æå‡å·¥å…·ï¼Œå¯å¸®åŠ©å¼€å‘è€…é«˜æ•ˆå¼€å‘ Web åº”ç”¨ã€‚

---

æ¬¢è¿åŠ å…¥ [OpenTiny å¼€æºç¤¾åŒº](https://github.com/opentiny/)ã€‚æ·»åŠ å¾®ä¿¡å°åŠ©æ‰‹ï¼šopentiny-official ä¸€èµ·å‚ä¸äº¤æµå‰ç«¯æŠ€æœ¯ï½æ›´å¤šè§†é¢‘å†…å®¹ä¹Ÿå¯å…³æ³¨[B ç«™](https://space.bilibili.com/15284299?spm_id_from=333.1007.0.0)ã€æŠ–éŸ³ã€å°çº¢ä¹¦ã€è§†é¢‘å·  
OpenTinyÂ  ä¹Ÿåœ¨æŒç»­æ‹›å‹Ÿè´¡çŒ®è€…ï¼Œæ¬¢è¿ä¸€èµ·å…±å»º

[OpenTiny å®˜ç½‘](https://opentiny.design/)ï¼š**https://opentiny.design/**  
[OpenTiny ä»£ç ä»“åº“](https://github.com/opentiny/)ï¼š**https://github.com/opentiny/**  
[TinyVue æºç ](https://github.com/opentiny/tiny-vue)ï¼š**https://github.com/opentiny/tiny-vue**
[TinyEngine æºç ](https://github.com/opentiny/tiny-engine)ï¼š **https://github.com/opentiny/tiny-engine**

æ¬¢è¿è¿›å…¥ä»£ç ä»“åº“ StarğŸŒŸ[TinyEngine](https://github.com/opentiny/tiny-engine)ã€[TinyVue](https://github.com/opentiny/tiny-vue)ã€[TinyNG](https://github.com/opentiny/ng)ã€[TinyCLI](https://github.com/opentiny/tiny-cli)~
å¦‚æœä½ ä¹Ÿæƒ³è¦å…±å»ºï¼Œå¯ä»¥è¿›å…¥ä»£ç ä»“åº“ï¼Œæ‰¾åˆ° Â good first issue æ ‡ç­¾ï¼Œä¸€èµ·å‚ä¸å¼€æºè´¡çŒ®~
